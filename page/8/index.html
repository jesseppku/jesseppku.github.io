<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sir0.net","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="吴梦梦、刘玥和SL炮叔">
<meta property="og:url" content="http://sir0.net/page/8/index.html">
<meta property="og:site_name" content="吴梦梦、刘玥和SL炮叔">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sir0.net">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://sir0.net/page/8/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>吴梦梦、刘玥和SL炮叔</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b111bff4f8ef5699b270a9ec8dae6cef";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">吴梦梦、刘玥和SL炮叔</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E6%B5%8F%E8%A7%88%E5%99%A8%E7%A7%81%E6%9C%89%E5%B1%9E%E6%80%A7/" class="post-title-link" itemprop="url">浏览器私有属性</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:39" itemprop="dateModified" datetime="2020-03-06T11:38:39+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-css中抬头"><a href="#一-css中抬头" class="headerlink" title="一.css中抬头"></a>一.css中抬头</h2><ul>
<li><code>::-moz-</code>代表firefox浏览器私有属性</li>
<li><code>::-ms-</code>代表ie浏览器私有属性</li>
<li><code>::-webkit-</code>代表safari、chrome私有属性</li>
<li><code>::-o-</code>代表opera</li>
</ul>
<h2 id="二-常见的中私有属性拿chrome浏览器举例"><a href="#二-常见的中私有属性拿chrome浏览器举例" class="headerlink" title="二.常见的中私有属性拿chrome浏览器举例"></a>二.常见的中私有属性拿chrome浏览器举例</h2><p><code>::如果前面为空代码全局,如果前面有某个元素的css选择器代表改元素的对于内容</code></p>
<h3 id="1-输入框"><a href="#1-输入框" class="headerlink" title="1.输入框"></a>1.输入框</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::-webkit-input-placeholder</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">//阻止input出现黄色背景</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">:-webkit-autofill</span> &#123;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span> <span class="meta">!important</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">0</span> <span class="number">1000px</span> white <span class="meta">!important</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">清除<span class="selector-tag">input</span><span class="selector-attr">[type=”number”]</span>侧边的箭头</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-inner-spin-button</span> &#123; <span class="attribute">-webkit-appearance</span>: none; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="2-禁用选择文本"><a href="#2-禁用选择文本" class="headerlink" title="2.禁用选择文本"></a>2.禁用选择文本</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">* &#123;</span><br><span class="line"><span class="attribute">-webkit-user-select</span>: none;</span><br><span class="line">   <span class="attribute">-moz-user-select</span>: none;</span><br><span class="line">    <span class="attribute">-ms-user-select</span>: none;</span><br><span class="line">        <span class="attribute">user-select</span>: none;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="3-selection-下拉框"><a href="#3-selection-下拉框" class="headerlink" title="3.selection (下拉框)"></a>3.selection (下拉框)</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-pseudo">::selection</span></span><br><span class="line">&#123;</span><br><span class="line">xxxxx</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-pseudo">::-moz-selection</span></span><br><span class="line">&#123;</span><br><span class="line">xxxx</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">IE9</span>+、<span class="selector-tag">Opera</span>、<span class="selector-tag">Google</span> <span class="selector-tag">Chrome</span> 以及 <span class="selector-tag">Safari</span> 中支持 <span class="selector-pseudo">::selection</span> 选择器。</span><br><span class="line"></span><br><span class="line"><span class="selector-tag">Firefox</span> 支持替代的 <span class="selector-pseudo">::-moz-selection</span>。</span><br></pre></td></tr></table></figure>
<h3 id="4-滚动条"><a href="#4-滚动条" class="headerlink" title="4.滚动条"></a>4.滚动条</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-scrollbar&#123;&#125; //滚动条宽度</span><br><span class="line">::-webkit-scrollbar-thumb &#123;&#125;  //滑轨上滑块</span><br><span class="line">::-webkit-scrollbar-button &#123;&#125;  //滑轨两头的监听按钮颜色</span><br><span class="line">::-webkit-scrollbar-track &#123;&#125;   //定义滚动条轨道</span><br><span class="line"></span><br><span class="line">-webkit-overflow-scrolling: touch; //允许独立的滚动区域和触摸回弹</span><br><span class="line"></span><br><span class="line">//影藏滚动条</span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">0px</span>;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">//举例</span><br><span class="line"><span class="comment">/*定义滚动条样式*/</span><span class="comment">/*定义滚动条高宽及背景 高宽分别对应横竖滚动条的尺寸*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">0.01rem</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*定义滚动条轨道 内阴影+圆角*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-track</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">255</span>, <span class="number">255</span>, <span class="number">255</span>, <span class="number">0.3</span>);</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0.1rem</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/*定义滑块 内阴影+圆角*/</span></span><br><span class="line"><span class="selector-pseudo">::-webkit-scrollbar-thumb</span> &#123;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0.1rem</span>;</span><br><span class="line">    <span class="attribute">-webkit-box-shadow</span>: inset <span class="number">0</span> <span class="number">0</span> <span class="number">6px</span> <span class="built_in">rgba</span>(<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, .<span class="number">3</span>);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="5-input-range"><a href="#5-input-range" class="headerlink" title="5.input-range"></a>5.input-range</h3><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-slider-thumb&#123;&#125;  //一定要配合::-webkit-slider-runnable-track使用,否则会没有效果.......</span><br><span class="line">里面参数和滑动块类似</span><br></pre></td></tr></table></figure>
<h3 id="6-字体描边"><a href="#6-字体描边" class="headerlink" title="6.字体描边"></a>6.字体描边</h3><p><strong><code>-webkit-text-stroke</code></strong><a href="https://developer.mozilla.org/en-US/docs/Web/CSS" target="_blank" rel="noopener">CSS</a>属性为文本字符指定了<a href="https://developer.mozilla.org/en-US/docs/Web/CSS/length" target="_blank" rel="noopener">宽</a> 和 <a href="https://developer.mozilla.org/en-US/docs/Web/CSS/color_value" target="_blank" rel="noopener">颜色</a> . 它是&lt;a href=”<a href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/-webkit-text-stroke-width" target="_blank" rel="noopener">https://developer.mozilla.org/zh-CN/docs/Web/CSS/-webkit-text-stroke-width</a><br>-webkit-text-stroke-width<code>&lt;/a&gt;和&lt;a href=&quot;https://developer.mozilla.org/zh-CN/docs/Web/CSS/-webkit-text-stroke-color
-webkit-text-stroke-color</code></a>属性的缩写.</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 全局设置 */</span></span><br><span class="line"><span class="comment">/* 宽度和颜色属性 */</span></span><br><span class="line"><span class="selector-tag">-webkit-text-stroke</span>: &lt;<span class="selector-tag">length</span>&gt; &lt;<span class="selector-tag">color</span>&gt;;</span><br><span class="line"><span class="selector-tag">-webkit-text-stroke-width</span>：绝对&lt;<span class="selector-tag">length</span>&gt;</span><br><span class="line"><span class="selector-tag">-webkit-text-stroke-color</span>：&lt;<span class="selector-tag">color</span>&gt;</span><br><span class="line"><span class="selector-tag">-webkit-text-stroke</span>: 1<span class="selector-tag">px</span> <span class="selector-tag">red</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* 全局属性 */</span></span><br><span class="line"><span class="comment">/* 默认设置 */</span></span><br><span class="line"><span class="selector-tag">-webkit-text-stroke</span>: <span class="selector-tag">inherit</span>;</span><br><span class="line"><span class="selector-tag">-webkit-text-stroke</span>: <span class="selector-tag">initial</span>;</span><br><span class="line"><span class="selector-tag">-webkit-text-stroke</span>: <span class="selector-tag">unset</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/* 局部设置 */</span></span><br><span class="line"><span class="selector-tag">div</span> &#123;</span><br><span class="line">    <span class="attribute">-webkit-text-stroke</span>: &lt;length&gt; &lt;color&gt;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E7%BB%83%E6%89%8B%E7%88%AC%E8%99%AB%E7%94%A8urllib%E6%A8%A1%E5%9D%97%E8%8E%B7%E5%8F%96/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E7%BB%83%E6%89%8B%E7%88%AC%E8%99%AB%E7%94%A8urllib%E6%A8%A1%E5%9D%97%E8%8E%B7%E5%8F%96/" class="post-title-link" itemprop="url">练手爬虫用urllib模块获取</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:47" itemprop="dateModified" datetime="2020-03-06T11:38:47+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="练手爬虫用urllib模块获取"><a href="#练手爬虫用urllib模块获取" class="headerlink" title="练手爬虫用urllib模块获取"></a>练手爬虫用urllib模块获取</h1><p><code>有个人看一段python2的代码有很多错误</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHtml</span><span class="params">(url)</span>:</span></span><br><span class="line">    page = urllib.urlopen(url)</span><br><span class="line">    html = page.read()</span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getImg</span><span class="params">(html)</span>:</span></span><br><span class="line">    reg = <span class="string">r'src="(.+?\.jpg)" pic_ext'</span></span><br><span class="line">    imgre = re.compile(reg)</span><br><span class="line">    imglist = re.findall(imgre,html)</span><br><span class="line">    <span class="keyword">return</span> imglist </span><br><span class="line"></span><br><span class="line">html = getHtml(<span class="string">"https://zwk365.com"</span>) //攒外快网</span><br><span class="line"><span class="keyword">print</span> getImg(html)</span><br></pre></td></tr></table></figure>
<h2 id="修改后python3的代码"><a href="#修改后python3的代码" class="headerlink" title="修改后python3的代码"></a>修改后python3的代码</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getHtml</span><span class="params">(url)</span>:</span></span><br><span class="line">    page = urllib.request.urlopen(url) <span class="comment">#获取网站</span></span><br><span class="line">    html = page.read() <span class="comment">#内容读取,返回的html是字节的格式</span></span><br><span class="line">    <span class="keyword">return</span> html</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">getImg</span><span class="params">(html)</span>:</span></span><br><span class="line">    <span class="comment"># print(str(html,encoding='utf8'))   #内容以爬下来为准而不是网站上的</span></span><br><span class="line">    reg = <span class="string">'data-original="(.*?)"'</span>  <span class="comment">#设置下内容的re格式</span></span><br><span class="line">    imglist = re.findall(reg,str(html,encoding=<span class="string">'utf8'</span>),re.S)</span><br><span class="line">    <span class="keyword">return</span> imglist</span><br><span class="line"></span><br><span class="line">html = getHtml(<span class="string">"https://zwk365.com"</span>)</span><br><span class="line">print(getImg(html))</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E9%80%BB%E8%BE%91%E7%BB%83%E7%BB%83%E6%89%8B%E5%B0%8F%E7%A8%8B%E5%BA%8F/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E9%80%BB%E8%BE%91%E7%BB%83%E7%BB%83%E6%89%8B%E5%B0%8F%E7%A8%8B%E5%BA%8F/" class="post-title-link" itemprop="url">逻辑练练手小程序</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:10" itemprop="dateModified" datetime="2020-03-06T11:39:10+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>写个练练手,自己增加要求增加写,至上而下写</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 小程序要求:</span></span><br><span class="line"><span class="comment"># 1.用户可能输入内容中前后多按了空格进行去除</span></span><br><span class="line"><span class="comment"># 2.用户不按规定输入内容返还输入,并给与警告提示</span></span><br><span class="line"><span class="comment"># 3.需要记录用户的信息,输入次数规定3</span></span><br><span class="line"><span class="comment"># 4.提示密码错误,账号错误,或者两者都错</span></span><br><span class="line"><span class="comment"># 4.奖品可选猜对了可以获取2个</span></span><br><span class="line"><span class="comment"># 5.猜的机会有3次</span></span><br><span class="line"><span class="comment"># 6.拿了奖品还能选择能否继续玩</span></span><br><span class="line"><span class="comment"># 7.年龄范围随机 18-15</span></span><br><span class="line"><span class="comment">#思路:</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="string">按照功能,</span></span><br><span class="line"><span class="string">1.多按了空格去除空格,用字符串中的strip方法,</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">2.有规定次数的引入一个变量进行次数的判断</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">3.随机数用random函数来解决</span></span><br><span class="line"><span class="string">'''</span></span><br><span class="line"><span class="comment"># 导入随机函数</span></span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="comment"># 需要用到的信息</span></span><br><span class="line"></span><br><span class="line">gift_dict = &#123;</span><br><span class="line">    <span class="string">'1'</span>: <span class="string">'Altman'</span>,</span><br><span class="line">    <span class="string">'2'</span>: <span class="string">'cat'</span>,</span><br><span class="line">    <span class="string">'3'</span>: <span class="string">'dog'</span>,</span><br><span class="line">    <span class="string">'4'</span>: <span class="string">'pig'</span></span><br><span class="line">&#125;</span><br><span class="line">username_pwd_dict = &#123;</span><br><span class="line">    <span class="string">'yangwenyi'</span>: <span class="number">123</span>,</span><br><span class="line">    <span class="string">'nick'</span>: <span class="number">123</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">user_dict = dict()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 计数</span></span><br><span class="line"></span><br><span class="line">gift_count = <span class="number">0</span></span><br><span class="line">age_count = <span class="number">0</span></span><br><span class="line">username_count = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 规定年龄</span></span><br><span class="line"></span><br><span class="line">under_age = random.randrange(<span class="number">18</span>, <span class="number">26</span>)  <span class="comment"># 随机数字18-25</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 用户交互 输入账号密码</span></span><br><span class="line"><span class="keyword">while</span> username_count &lt; <span class="number">3</span>:</span><br><span class="line">    user_name = input(<span class="string">'请输入你的名字:'</span>).strip()</span><br><span class="line">    pwd = int(input(<span class="string">'请输入你的密码'</span>).strip())</span><br><span class="line">    name_list = username_pwd_dict.keys()</span><br><span class="line">    <span class="keyword">if</span> pwd == username_pwd_dict.get(user_name):</span><br><span class="line">        print(<span class="string">f'欢迎<span class="subst">&#123;user_name&#125;</span>来到猜年龄游戏'</span>)</span><br><span class="line">        username_count = <span class="number">4</span></span><br><span class="line">    <span class="keyword">elif</span> user_name <span class="keyword">in</span> name_list:</span><br><span class="line">        print(<span class="string">'账号正确,密码错误'</span>)</span><br><span class="line">        username_count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        username_count += <span class="number">1</span></span><br><span class="line">        print(<span class="string">'账号错误'</span>)</span><br><span class="line">    <span class="keyword">if</span> username_count == <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">'你已经输错了一次账号密码了还剩2次机会'</span>)</span><br><span class="line">    <span class="keyword">elif</span> username_count == <span class="number">2</span>:</span><br><span class="line">        print(<span class="string">'你已经错两次了,'</span></span><br><span class="line">              <span class="string">'就剩下1次机会了'</span>)</span><br><span class="line">    <span class="keyword">elif</span> username_count == <span class="number">3</span>:</span><br><span class="line">        print(<span class="string">'机会已经用完了'</span>)</span><br><span class="line">        user_name_choose = input(<span class="string">'叫爸爸在给你次机会'</span>).strip()</span><br><span class="line">        <span class="keyword">if</span> user_name_choose == <span class="string">'爸爸'</span>:</span><br><span class="line">            username_count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'大丈夫能屈能伸,'</span></span><br><span class="line">                  <span class="string">'你居然这也办不到太让我失望了游戏结束'</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 用户交互猜年龄</span></span><br><span class="line">    print(<span class="string">'骚年我们开始猜年龄吧年龄18到25,'</span></span><br><span class="line">          <span class="string">'猜对了有礼物哦,你有三次机会'</span>)</span><br><span class="line">    <span class="keyword">while</span> age_count &lt; <span class="number">3</span>:</span><br><span class="line">        age_input = input(<span class="string">'请输入你的年龄'</span>).strip()</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> age_input.isdigit():</span><br><span class="line">            print(<span class="string">'好好输入数字,'</span></span><br><span class="line">                  <span class="string">'猜对了后面有礼物给你哦'</span>)</span><br><span class="line">            age_count += <span class="number">1</span></span><br><span class="line">            print(<span class="string">f'你已经浪费了<span class="subst">&#123;age_count&#125;</span>次机会了,'</span></span><br><span class="line">                  <span class="string">f'还剩<span class="subst">&#123;<span class="number">3</span> - age_count&#125;</span>次机会'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> int(age_input) == under_age:</span><br><span class="line">                print(<span class="string">'骚年猜对了,来选礼物吧'</span>)</span><br><span class="line">                age_count = <span class="number">4</span></span><br><span class="line">                gift_count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">elif</span> int(age_input) &gt; under_age:</span><br><span class="line">                print(<span class="string">'大了'</span>)</span><br><span class="line">                age_count += <span class="number">1</span></span><br><span class="line">                print(<span class="string">f'已经使用了<span class="subst">&#123;age_count&#125;</span>次机会了,'</span></span><br><span class="line">                      <span class="string">f'还剩<span class="subst">&#123;<span class="number">3</span> - age_count&#125;</span>次机会'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'小了'</span>)</span><br><span class="line">                age_count += <span class="number">1</span></span><br><span class="line">                print(<span class="string">f'已经使用了<span class="subst">&#123;age_count&#125;</span>次机会了,'</span></span><br><span class="line">                      <span class="string">f'还剩<span class="subst">&#123;<span class="number">3</span> - age_count&#125;</span>次机会'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 与用户交互猜对了拿里面,兼是否还玩</span></span><br><span class="line">        <span class="keyword">while</span> age_count == <span class="number">4</span> <span class="keyword">and</span> gift_count != <span class="number">2</span>:</span><br><span class="line">            gift_chose = input(<span class="string">'输入1奖品Altma,'</span></span><br><span class="line">                               <span class="string">'输入2奖品catt,'</span></span><br><span class="line">                               <span class="string">'输入3奖品为dog,'</span></span><br><span class="line">                               <span class="string">'输入4奖品为pig\n'</span></span><br><span class="line">                               <span class="string">'请选择:'</span>).strip()</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> gift_dict.get(gift_chose):</span><br><span class="line">                gift_count += <span class="number">1</span></span><br><span class="line">                print(<span class="string">f'你个傻子这也输入错了,礼物较少<span class="subst">&#123;gift_count&#125;</span>个'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                gift_count += <span class="number">1</span></span><br><span class="line">                print(<span class="string">f'已经选择<span class="subst">&#123;gift_dict[gift_chose]&#125;</span>,还有<span class="subst">&#123;<span class="number">2</span> - gift_count&#125;</span>选礼物机会'</span>)</span><br><span class="line">                <span class="keyword">if</span> gift_dict[gift_chose] <span class="keyword">not</span> <span class="keyword">in</span> user_dict:</span><br><span class="line">                    user_dict[gift_dict[gift_chose]] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    user_dict[gift_dict[gift_chose]] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> gift_count == <span class="number">2</span>:</span><br><span class="line">                print(<span class="string">f"恭喜你获得\n'Altman'<span class="subst">&#123;user_dict.get(<span class="string">'Altman'</span>,<span class="number">0</span>)&#125;</span>个\n"</span></span><br><span class="line">                      <span class="string">f"'cat'<span class="subst">&#123;user_dict.get(<span class="string">'cat'</span>,<span class="number">0</span>)&#125;</span>个\n"</span></span><br><span class="line">                      <span class="string">f"'dog'<span class="subst">&#123;user_dict.get(<span class="string">'dog'</span>, <span class="number">0</span>)&#125;</span>个\n"</span></span><br><span class="line">                      <span class="string">f"'pig'<span class="subst">&#123;user_dict.get(<span class="string">'pig'</span>, <span class="number">0</span>)&#125;</span>个"</span>)   <span class="comment">#get函数没找到返回,0</span></span><br><span class="line">                age_count = <span class="number">3</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 与用户交互要不要继续</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> age_count == <span class="number">3</span>:</span><br><span class="line">            age_chose = input(<span class="string">'输入小哥哥我们接着游戏,输入我不玩了结束游戏\n'</span></span><br><span class="line">                              <span class="string">'请输入'</span>)</span><br><span class="line">            <span class="keyword">if</span> age_chose == <span class="string">'小哥哥'</span>:</span><br><span class="line">                age_count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">elif</span> age_chose == <span class="string">'我不玩了'</span>:</span><br><span class="line">                age_count = <span class="number">100</span></span><br><span class="line">                print(<span class="string">'拜拜'</span>)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">'好好输入'</span>)</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%8F%8A%E4%BD%BF%E7%94%A8,%E5%85%B3%E9%94%AE%E5%AD%97,%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84,python%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%94%A8%E9%80%94/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E6%A8%A1%E5%9D%97%E5%AF%BC%E5%85%A5%E5%8F%8A%E4%BD%BF%E7%94%A8,%E5%85%B3%E9%94%AE%E5%AD%97,%E6%A8%A1%E5%9D%97%E6%90%9C%E7%B4%A2%E8%B7%AF%E5%BE%84,python%E6%96%87%E4%BB%B6%E7%9A%84%E4%B8%A4%E7%A7%8D%E7%94%A8%E9%80%94/" class="post-title-link" itemprop="url">模块导入及使用,关键字,模块搜索路径,python文件的两种用途</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:22" itemprop="dateModified" datetime="2020-03-06T11:39:22+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="06-05自我总结"><a href="#06-05自我总结" class="headerlink" title="06.05自我总结"></a>06.05自我总结</h1><h2 id="一-模块导入及使用"><a href="#一-模块导入及使用" class="headerlink" title="一.模块导入及使用"></a>一.模块导入及使用</h2><h3 id="1-模块导入的两种方式"><a href="#1-模块导入的两种方式" class="headerlink" title="1.模块导入的两种方式"></a>1.模块导入的两种方式</h3><p>我们拿time模块并使用其中的time功能进行举例</p>
<h4 id="a-第一种"><a href="#a-第一种" class="headerlink" title="a)第一种"></a>a)第一种</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(time.time)</span><br></pre></td></tr></table></figure>
<p>import首次导入模块发生了3件事：</p>
<ol>
- 打开模块文件
- 执行模块对应的文件，将执行过程中产生的名字都丢到模块的名称空间
- 在程序中会有一个模块名称指向模块名称空间(如果他是import time as f)则是f指向模块空间
- 在当前执行文件中拿到一个模块名
</ol>
#### b)第二种
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> time</span><br><span class="line">print(time)</span><br></pre></td></tr></table></figure>
from...import...首次导入模块发生了3件事：
<ol>
- 以模块为准创造一个模块的名称空间
- 执行模块对应的文件，将执行过程中产生的名字都丢到模块的名称空间
- 在当前执行文件的名称空间中拿到一个名字，该名字直接指向模块中的某一个名字，意味着可以不用加任何前缀而直接使用
</ol>

<ul>
<li>优点：不用加前缀，代码更加精简</li>
<li>缺点：容易与当前执行文件中名称空间中的名字冲突</li>
</ul>
<h4 id="c-相同点和不同点"><a href="#c-相同点和不同点" class="headerlink" title="c)相同点和不同点"></a>c)相同点和不同点</h4><p>相同点：</p>
<ol>
- 两者都会执行模块对应的文件，两者都会产生模块的名称空间
- 两者调用功能时，需要跑到定义时寻找作用域关系，与调用位置无关
</ol>
不同点
<ol>
- import需要加前缀；from...import...不需要加前缀
</ol>
### 2.关键字
_ all_ 
<figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">如果一个模块的文件内写有_all_</span><br><span class="line"><span class="keyword">import</span> 模块名字,默认导入所有模块</span><br><span class="line">而当模块中出现_all_时候,他只会导入_all_后面列表内的名称</span><br></pre></td></tr></table></figure>
## 二.模块循环导入
## 1.情况
创建两个模块
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m1.py</span></span><br><span class="line">print(<span class="string">'from m1.py'</span>)</span><br><span class="line"><span class="keyword">from</span> m2 <span class="keyword">import</span> x</span><br><span class="line"></span><br><span class="line">y = <span class="string">'m1'</span></span><br></pre></td></tr></table></figure>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m2.py</span></span><br><span class="line">print(<span class="string">'from m2.py'</span>)</span><br><span class="line"><span class="keyword">from</span> m1 <span class="keyword">import</span> y</span><br><span class="line"></span><br><span class="line">x = <span class="string">'m2'</span></span><br></pre></td></tr></table></figure>
应用程序导入模块
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># run.py</span></span><br><span class="line"><span class="keyword">import</span> m1</span><br></pre></td></tr></table></figure>
### 2.解决办法
第一种
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">把m1中吧form m2 <span class="keyword">import</span> x 将能找到的y放置form m2 <span class="keyword">import</span> x,上面,让他在没有导入模块的时候就发现y从而不会寻找</span><br><span class="line"><span class="comment"># m1.py</span></span><br><span class="line">print(<span class="string">'from m1.py'</span>)</span><br><span class="line">y = <span class="string">'m1'</span></span><br><span class="line"><span class="keyword">from</span> m2 <span class="keyword">import</span> x</span><br></pre></td></tr></table></figure>
第二种
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">把<span class="keyword">from</span> m2 <span class="keyword">import</span> x 用函数把他变成局部,文件加载顺序先全局在局部</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">from</span> m2 <span class="keyword">import</span> x</span><br><span class="line">y = <span class="string">'m1'</span></span><br><span class="line">f()</span><br></pre></td></tr></table></figure>
## 三.模块搜索路径
去内存中找去→内置模块中找→去环境变量中找
打印环境变量
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">print(sys.path)</span><br></pre></td></tr></table></figure>
## 四.python文件的两种用途
1.模块文件
2.运行文件
搜索路径以运行文件为基准
## 五.关键字_name_
在执行文件中_name_会被读取成'__main__'
在导入模块的时候__name__会变成模块名字
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B,%E9%B1%BC%E9%AA%A8%E5%9B%BE%E5%88%86%E6%9E%90%E6%B3%95/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%BC%96%E7%A8%8B,%E9%B1%BC%E9%AA%A8%E5%9B%BE%E5%88%86%E6%9E%90%E6%B3%95/" class="post-title-link" itemprop="url">面向对象编程,鱼骨图分析法</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:40:13" itemprop="dateModified" datetime="2020-03-06T11:40:13+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="06-05-自我总结"><a href="#06-05-自我总结" class="headerlink" title="06.05 自我总结"></a>06.05 自我总结</h1><h2 id="一-面向对象编程"><a href="#一-面向对象编程" class="headerlink" title="一.面向对象编程"></a>一.面向对象编程</h2><p>​ 面向过程编程，核心是编程二字，过程指的是解决问题的步骤，即先干什么、后干什么、再干什么、然后干什么……<br>与工厂的工艺流程差不多,前后都有影响<br>优点：复杂的问题流程化，进而简单化,调理清晰.<br>缺点:拓展性不行</p>
<h2 id="二-对于我之前写的一个购物程序"><a href="#二-对于我之前写的一个购物程序" class="headerlink" title="二.对于我之前写的一个购物程序"></a>二.对于我之前写的一个购物程序</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br></pre></td><td class="code"><pre><span class="line">total_prices = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">chiose</span><span class="params">(action)</span>:</span></span><br><span class="line">    <span class="string">'''0是注册功能,1是会员卡系统,2是购物功能,3是会员查找积分功能,4为会员积分兑换功能'''</span></span><br><span class="line">    <span class="comment">#注册功能</span></span><br><span class="line">    <span class="keyword">if</span> action == <span class="number">0</span>:</span><br><span class="line">        <span class="comment"># 注册内容</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">register</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                print(<span class="string">'注册账号'</span>.center(<span class="number">50</span>, <span class="string">"-"</span>))</span><br><span class="line">                name = input(<span class="string">'请输入账号'</span>).strip()</span><br><span class="line">                print(<span class="string">'注册密码'</span>.center(<span class="number">50</span>, <span class="string">"-"</span>))</span><br><span class="line">                pwd = input(<span class="string">'请输入密码'</span>).strip()</span><br><span class="line">                pwd_next = input(<span class="string">'请再一次输入入密码'</span>).strip()</span><br><span class="line">                <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fw:</span><br><span class="line">                    fw.seek(<span class="number">0</span>)</span><br><span class="line">                    data = fw.read()</span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">in</span> data :</span><br><span class="line">                    print(<span class="string">'已有账号'</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">if</span> pwd == pwd_next:</span><br><span class="line">                        print(<span class="string">'注册成功'</span>)</span><br><span class="line">                        <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'a'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fw:</span><br><span class="line">                            fw.write(<span class="string">f'<span class="subst">&#123;name&#125;</span>:<span class="subst">&#123;pwd&#125;</span>|'</span>)</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">'两次输入密码不同'</span>)</span><br><span class="line">            print(<span class="number">50</span>*<span class="string">'-'</span>)</span><br><span class="line">        <span class="keyword">return</span> register</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 会员卡功能,100块钱1分</span></span><br><span class="line">    <span class="comment"># 其中加个必须结合shoping进行</span></span><br><span class="line">    <span class="comment">#小于10分是普通会员9折优惠</span></span><br><span class="line">    <span class="comment">#大于等于10分是黄金会员8.5折优惠</span></span><br><span class="line">    <span class="comment"># 大于等于100分是至尊会员打8折</span></span><br><span class="line">    <span class="keyword">if</span> action == <span class="number">1</span>:</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">member</span><span class="params">()</span>:</span></span><br><span class="line">            choise = input(<span class="string">'有会员输入1\n'</span></span><br><span class="line">                           <span class="string">'没会员输入其他\n'</span></span><br><span class="line">                           <span class="string">'最终解释权归杨文益所有'</span>)</span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">if</span> choise == <span class="string">'1'</span>:</span><br><span class="line">                <span class="keyword">while</span> count == <span class="number">0</span>:</span><br><span class="line">                    info_dict = dict()</span><br><span class="line">                    member_dict = dict()</span><br><span class="line">                    new_member_dict = dict()</span><br><span class="line">                    print(<span class="string">'登入账号'</span>.center(<span class="number">50</span>, <span class="string">"-"</span>))</span><br><span class="line">                    name = input(<span class="string">'请输入账号(真的想不起来了,输入我忘了密码随意退出)\n'</span>).strip()</span><br><span class="line">                    print(<span class="string">'登入密码'</span>.center(<span class="number">50</span>, <span class="string">"-"</span>))</span><br><span class="line">                    pwd = input(<span class="string">'请输入密码'</span>).strip()</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                        fr.seek(<span class="number">0</span>)</span><br><span class="line">                        info = fr.read()</span><br><span class="line">                    <span class="keyword">if</span> info == <span class="string">''</span>:</span><br><span class="line">                        print(<span class="string">'没有注册请先注册'</span>)</span><br><span class="line">                        <span class="keyword">return</span></span><br><span class="line">                    info_list = info.split(<span class="string">'|'</span>)</span><br><span class="line">                    <span class="keyword">for</span> info <span class="keyword">in</span> info_list[:<span class="number">-1</span>]:</span><br><span class="line">                        info = info.split(<span class="string">':'</span>)</span><br><span class="line">                        info_name = info[<span class="number">0</span>]</span><br><span class="line">                        info_pwd = info[<span class="number">1</span>]</span><br><span class="line">                        info_dict[info_name] = info_pwd</span><br><span class="line">                    <span class="keyword">if</span> name == <span class="string">'我忘了'</span>:</span><br><span class="line">                        print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                        count = <span class="number">1</span></span><br><span class="line">                    <span class="keyword">elif</span> name <span class="keyword">not</span> <span class="keyword">in</span> info_dict:</span><br><span class="line">                        print(<span class="string">'会员账号错误'</span>)</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">elif</span> pwd != info_dict.get(name):</span><br><span class="line">                        print(<span class="string">'密码错误'</span>)</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">'会员成功'</span>)</span><br><span class="line">                        count = <span class="number">1</span></span><br><span class="line">                        <span class="comment"># 写入会员名字加积分</span></span><br><span class="line"></span><br><span class="line">                        <span class="keyword">with</span> open(<span class="string">'会员积分.txt'</span>, <span class="string">'a'</span>, encoding=<span class="string">'utf8'</span>)  <span class="keyword">as</span> fw,\</span><br><span class="line">                            open(<span class="string">'会员积分剩余积分.txt'</span>, <span class="string">'a'</span>, encoding=<span class="string">'utf8'</span>)  <span class="keyword">as</span> fw_1:</span><br><span class="line">                            fw.write(<span class="string">f'<span class="subst">&#123;name&#125;</span>:<span class="subst">&#123;total_prices / <span class="number">100</span>&#125;</span>|'</span>)</span><br><span class="line">                            fw_1.write(<span class="string">f'<span class="subst">&#123;name&#125;</span>:<span class="subst">&#123;total_prices / <span class="number">100</span>&#125;</span>|'</span>)</span><br><span class="line">                        <span class="comment"># 读写会员总积分</span></span><br><span class="line">                        <span class="keyword">with</span> open(<span class="string">'会员积分.txt'</span>, <span class="string">'r'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fw:</span><br><span class="line">                            member = fw.read()</span><br><span class="line">                        member_list = member.split(<span class="string">'|'</span>)</span><br><span class="line">                        <span class="keyword">for</span> member <span class="keyword">in</span> member_list[:<span class="number">-1</span>]:</span><br><span class="line">                            member = member.split(<span class="string">':'</span>)</span><br><span class="line">                            member_name = member[<span class="number">0</span>]</span><br><span class="line">                            member_integral = float(member[<span class="number">1</span>])</span><br><span class="line">                            <span class="keyword">if</span> member_name <span class="keyword">not</span> <span class="keyword">in</span> member_dict:</span><br><span class="line">                                member_dict[member_name] = member_integral</span><br><span class="line">                            <span class="keyword">else</span>:</span><br><span class="line">                                member_dict[member_name] += member_integral</span><br><span class="line"></span><br><span class="line">                        <span class="comment"># 读写会员剩余积分</span></span><br><span class="line">                        <span class="keyword">with</span> open(<span class="string">'会员积分剩余积分.txt'</span>, <span class="string">'r'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fw:</span><br><span class="line">                            new_member = fw.read()</span><br><span class="line">                        new_member_list = new_member.split(<span class="string">'|'</span>)</span><br><span class="line">                        <span class="keyword">for</span> new_member <span class="keyword">in</span> new_member_list[:<span class="number">-1</span>]:</span><br><span class="line">                            new_member = new_member.split(<span class="string">':'</span>)</span><br><span class="line">                            new_member_name = new_member[<span class="number">0</span>]</span><br><span class="line">                            new_member_integral = float(new_member[<span class="number">1</span>])</span><br><span class="line">                            <span class="keyword">if</span> new_member_name <span class="keyword">not</span> <span class="keyword">in</span> new_member_dict:</span><br><span class="line">                                new_member_dict[new_member_name] = new_member_integral</span><br><span class="line">                            <span class="keyword">else</span>:</span><br><span class="line">                                new_member_dict[new_member_name] += new_member_integral</span><br><span class="line"></span><br><span class="line">                        <span class="comment"># 打印积分</span></span><br><span class="line">                        print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                        print(<span class="string">f'你好<span class="subst">&#123;name&#125;</span>'</span>)</span><br><span class="line">                        print(<span class="string">f'您当前的积分<span class="subst">&#123;member_dict.get(name)&#125;</span>分'</span>)</span><br><span class="line">                        integral = member_dict.get(name)</span><br><span class="line">                        <span class="keyword">if</span> integral &lt; <span class="number">10</span>:</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'您是我们超市的普通会员可以享受9折优惠'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'你本次购买总计:<span class="subst">&#123;total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="string">f'会员折扣后为<span class="subst">&#123;<span class="number">0.9</span>*total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'请到前台支付<span class="subst">&#123;<span class="number">0.9</span> * total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'欢迎下次光临'</span>.center(<span class="number">44</span>,<span class="string">"-"</span>))</span><br><span class="line">                        <span class="keyword">elif</span> integral &lt; <span class="number">100</span>:</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'您是我们超市的黄金会员可以享受8.5折优惠'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'你本次购买总计:<span class="subst">&#123;total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="string">f'会员折扣后为<span class="subst">&#123;<span class="number">0.85</span> * total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'请到前台支付<span class="subst">&#123;<span class="number">0.85</span> * total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'欢迎下次光临'</span>.center(<span class="number">44</span>, <span class="string">"-"</span>))</span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'您是我们超市的至尊会员可以享受8折优惠'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'你本次购买总计:<span class="subst">&#123;total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="string">f'会员折扣后为<span class="subst">&#123;<span class="number">0.8</span> * total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">f'请到前台支付<span class="subst">&#123;<span class="number">0.8</span> * total_prices&#125;</span>'</span>)</span><br><span class="line">                            print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                            print(<span class="string">'欢迎下次光临'</span>.center(<span class="number">44</span>, <span class="string">"-"</span>))</span><br><span class="line">                        print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> member</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">#购物系统</span></span><br><span class="line">    <span class="keyword">if</span> action == <span class="number">2</span>:</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">shopping</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="comment"># 产品成功选择后用judge = 1跳转到继续,结清,清空选择列表</span></span><br><span class="line">            <span class="comment"># 选择产品后继续 jump == '1'跳转,结算用jump == '0' 跳转, 清空继续购买用jump == '2'跳转,清空退出购买用jump == '3'跳转</span></span><br><span class="line">            <span class="comment"># 用 a == '0' 控制继续购买, a =='1'控制退出购买</span></span><br><span class="line">            commodity_dict = &#123;</span><br><span class="line">                <span class="string">'0'</span>: [<span class="string">'cat'</span>, <span class="number">100</span>],</span><br><span class="line">                <span class="string">'1'</span>: [<span class="string">'dog'</span>, <span class="number">200</span>],</span><br><span class="line">                <span class="string">'2'</span>: [<span class="string">'pig'</span>, <span class="number">300</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            user_dict = dict()</span><br><span class="line">            a = <span class="string">'0'</span></span><br><span class="line">            print(<span class="string">'欢迎来选购'</span>.center(<span class="number">50</span>, <span class="string">"-"</span>))</span><br><span class="line">            <span class="keyword">while</span> a == <span class="string">'0'</span>:</span><br><span class="line">                chiose = input(<span class="string">'输入0商品是cat\n'</span></span><br><span class="line">                               <span class="string">'输入1商品是dog\n'</span></span><br><span class="line">                               <span class="string">'输入2商品是pig\n'</span></span><br><span class="line">                               <span class="string">'请选择你要购买的商品:'</span>)</span><br><span class="line">                print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                commodity_info = commodity_dict.get(chiose)</span><br><span class="line">                num = input(<span class="string">'请输入你选择商品的数量'</span>)</span><br><span class="line">                <span class="comment"># 判断输入内容</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> num.isdigit():</span><br><span class="line">                    print(<span class="string">'数量输入有误请重新输入,数量只能输入数字'</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> chiose <span class="keyword">not</span> <span class="keyword">in</span> commodity_dict:</span><br><span class="line">                    print(<span class="string">'无效商品,请在0,1,2中选择输入'</span>)</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 整理商品清单</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    num_int = int(num)</span><br><span class="line">                    <span class="keyword">if</span> commodity_info[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> user_dict:</span><br><span class="line">                        user_dict[commodity_info[<span class="number">0</span>]] = [num_int, num_int * commodity_info[<span class="number">1</span>]]</span><br><span class="line">                        judge = <span class="number">1</span>  <span class="comment"># 跳转选择界面</span></span><br><span class="line">                        a = <span class="string">'1'</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        user_dict[commodity_info[<span class="number">0</span>]][<span class="number">0</span>] += num_int</span><br><span class="line">                        user_dict[commodity_info[<span class="number">0</span>]][<span class="number">1</span>] += num_int * commodity_info[<span class="number">1</span>]</span><br><span class="line">                        judge = <span class="number">1</span>  <span class="comment"># 跳转选择界面</span></span><br><span class="line">                        a = <span class="string">'1'</span></span><br><span class="line"></span><br><span class="line">                <span class="comment"># 打印购买信息</span></span><br><span class="line">                <span class="keyword">global</span> total_prices</span><br><span class="line">                total_prices = <span class="number">0</span></span><br><span class="line">                print(<span class="string">"\n"</span>)</span><br><span class="line">                print(<span class="string">'杨大爷超市欢迎您'</span>.center(<span class="number">42</span>, <span class="string">'-'</span>))</span><br><span class="line">                print(<span class="string">'\n你选择的商品'</span>)</span><br><span class="line">                <span class="keyword">for</span> name, info_list <span class="keyword">in</span> user_dict.items():</span><br><span class="line">                    print(<span class="string">f'<span class="subst">&#123;name&#125;</span><span class="subst">&#123;info_list[<span class="number">0</span>]&#125;</span>个合计<span class="subst">&#123;info_list[<span class="number">1</span>]&#125;</span>元\n'</span>)</span><br><span class="line">                    total_prices += info_list[<span class="number">1</span>]</span><br><span class="line">                print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                print(<span class="string">f'        总计<span class="subst">&#123;total_prices&#125;</span>元'</span>)</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 功能选择</span></span><br><span class="line">                <span class="keyword">while</span> judge == <span class="number">1</span>:</span><br><span class="line">                    print(<span class="number">50</span> * <span class="string">'-'</span>)</span><br><span class="line">                    jump = input(<span class="string">'输入0结算\n'</span></span><br><span class="line">                                 <span class="string">'输入1继续购买\n'</span></span><br><span class="line">                                 <span class="string">'输入2清空购物车继续购买\n'</span></span><br><span class="line">                                 <span class="string">'输入3清空购物车退出\n'</span></span><br><span class="line">                                 <span class="string">'请输入您的选择'</span>).strip()</span><br><span class="line">                    <span class="keyword">if</span> <span class="keyword">not</span> jump.isdigit():</span><br><span class="line">                        print(<span class="string">'请正确输入0,1,2,3中任意数字'</span>)</span><br><span class="line">                        <span class="keyword">continue</span></span><br><span class="line">                    <span class="keyword">if</span> jump == <span class="string">'1'</span>:</span><br><span class="line">                        judge = <span class="number">4</span>  <span class="comment"># 跳出功能选择</span></span><br><span class="line">                        a = <span class="string">'0'</span>  <span class="comment"># 继续购买</span></span><br><span class="line">                    <span class="keyword">elif</span> jump == <span class="string">'2'</span>:</span><br><span class="line">                        user_dict = dict()  <span class="comment"># 清空购物车</span></span><br><span class="line">                        judge = <span class="number">4</span>  <span class="comment"># 跳出功能选择</span></span><br><span class="line">                        a = <span class="string">'0'</span>  <span class="comment"># 继续购买</span></span><br><span class="line">                    <span class="keyword">elif</span> jump == <span class="string">'3'</span>:</span><br><span class="line">                        user_dict = dict()</span><br><span class="line">                        judge = <span class="number">4</span>  <span class="comment"># 跳出功能选择</span></span><br><span class="line">                        print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br><span class="line">                        print(<span class="string">'欢迎下次光临'</span>)</span><br><span class="line">                    <span class="keyword">elif</span> jump == <span class="string">'0'</span>:</span><br><span class="line">                        judge = <span class="number">4</span>  <span class="comment"># 跳出功能选择</span></span><br><span class="line">                        print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br><span class="line">                        print(<span class="string">f'一共<span class="subst">&#123;total_prices&#125;</span>元请到前台支付,如果有会员在下面输入会员信息'</span>)</span><br><span class="line">                        print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br><span class="line">                        print(<span class="string">'欢迎下次光临'</span>)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> shopping</span><br><span class="line"></span><br><span class="line">    <span class="comment">#会员积分查询</span></span><br><span class="line">    <span class="keyword">if</span> action == <span class="number">3</span>:</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">menber_integral</span><span class="params">()</span>:</span></span><br><span class="line">            <span class="comment">#生成总积分字典和用户信息字典:</span></span><br><span class="line">            menber_integral_dict = dict()</span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr_1:</span><br><span class="line">                fr_1.seek(<span class="number">0</span>)</span><br><span class="line">                data = fr_1.read()</span><br><span class="line">            <span class="keyword">if</span> data == <span class="string">''</span>:</span><br><span class="line">                print(<span class="string">'用户未注册请输入0去注册'</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'会员积分.txt'</span>,<span class="string">'a+'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                fr.seek(<span class="number">0</span>)</span><br><span class="line">                info_list = fr.read().split(<span class="string">'|'</span>)[:<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">for</span> info <span class="keyword">in</span> info_list:</span><br><span class="line">                    info = info.split(<span class="string">':'</span>)</span><br><span class="line">                    <span class="keyword">if</span> info[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> menber_integral_dict:</span><br><span class="line">                        menber_integral_dict[info[<span class="number">0</span>]] = float(info[<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        menber_integral_dict[info[<span class="number">0</span>]] += float(info[<span class="number">1</span>])</span><br><span class="line">            user_menber_integral_dict = dict()</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>,<span class="string">'a+'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                fr.seek(<span class="number">0</span>)</span><br><span class="line">                user_info_list = fr.read().split(<span class="string">'|'</span>)[:<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">for</span> user_info <span class="keyword">in</span> user_info_list:</span><br><span class="line">                    user_info = user_info.split(<span class="string">':'</span>)</span><br><span class="line">                    user_menber_integral_dict[user_info[<span class="number">0</span>]] = user_info[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">            <span class="comment"># 生成剩余积分字典:</span></span><br><span class="line"></span><br><span class="line">            new_menber_integral_dict = dict()</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'会员积分剩余积分.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                fr.seek(<span class="number">0</span>)</span><br><span class="line">                new_info_list = fr.read().split(<span class="string">'|'</span>)[:<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">for</span> new_info <span class="keyword">in</span> new_info_list:</span><br><span class="line">                    new_info = new_info.split(<span class="string">':'</span>)</span><br><span class="line">                    <span class="keyword">if</span> new_info[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> new_menber_integral_dict:</span><br><span class="line">                        new_menber_integral_dict[new_info[<span class="number">0</span>]] = float(new_info[<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        new_menber_integral_dict[new_info[<span class="number">0</span>]] += float(new_info[<span class="number">1</span>])</span><br><span class="line">            <span class="keyword">while</span> <span class="literal">True</span> :</span><br><span class="line">                print(<span class="string">'-'</span>*<span class="number">50</span>)</span><br><span class="line">                name = input(<span class="string">'请输入你会员卡的名字(退出输入我忘了)'</span>).strip()</span><br><span class="line">                <span class="keyword">if</span> name == <span class="string">'我忘了'</span>:</span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">                    print(<span class="string">'请选择'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> name <span class="keyword">in</span> user_menber_integral_dict:</span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">                    print(<span class="string">'会员账号输入错误'</span>)</span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">in</span> user_menber_integral_dict <span class="keyword">and</span> menber_integral_dict == dict():</span><br><span class="line">                    print(<span class="string">'你的积分为0分'</span>)</span><br><span class="line">                    <span class="keyword">return</span></span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">in</span> menber_integral_dict:</span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">                    print(<span class="string">'会员介绍'</span>.center(<span class="number">46</span>,<span class="string">' '</span>))</span><br><span class="line">                    print(<span class="string">'积分小于10分为普通会员可以打9折\n'</span></span><br><span class="line">                          <span class="string">'积分大于10分小于100分为黄金会员可以打8.5折\n'</span></span><br><span class="line">                          <span class="string">'积分大于100分为黄金会员可以打8折'</span>)</span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">                    print(<span class="string">f'会员卡账号:<span class="subst">&#123;name&#125;</span>'</span>)</span><br><span class="line">                    <span class="keyword">if</span> menber_integral_dict[name] &lt;<span class="number">10</span>:</span><br><span class="line">                        print(<span class="string">'您当前会员等级为普通会员\n'</span></span><br><span class="line">                              <span class="string">'您可以享受9折优惠'</span>)</span><br><span class="line">                    <span class="keyword">elif</span> menber_integral_dict[name] &lt;<span class="number">100</span>:</span><br><span class="line">                        print(<span class="string">'您当前会员等级为黄金会员\n'</span></span><br><span class="line">                              <span class="string">'您可以享受8.5折优惠'</span>)</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        print(<span class="string">'您当前会员等级为至尊会员\n'</span></span><br><span class="line">                              <span class="string">'您可以享受8折优惠'</span>)</span><br><span class="line">                    print(<span class="string">f'当前总积分:<span class="subst">&#123;menber_integral_dict[name]&#125;</span>分'</span>)</span><br><span class="line">                    print(<span class="string">f'已使用积分:<span class="subst">&#123;-new_menber_integral_dict[name] + menber_integral_dict[name]&#125;</span>分'</span>)</span><br><span class="line">                    print(<span class="string">f'剩余积分:<span class="subst">&#123;new_menber_integral_dict[name]&#125;</span>分'</span>)</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> menber_integral</span><br><span class="line"></span><br><span class="line">    <span class="comment">#会员积分兑换系统</span></span><br><span class="line">    <span class="keyword">if</span> action == <span class="number">4</span>:</span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">gift</span><span class="params">()</span>:</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="comment"># 生成剩余积分字典:</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr_1:</span><br><span class="line">                fr_1.seek(<span class="number">0</span>)</span><br><span class="line">                data = fr_1.read()</span><br><span class="line">            <span class="keyword">if</span> data == <span class="string">''</span>:</span><br><span class="line">                print(<span class="string">'用户未注册'</span>)</span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            new_menber_integral_dict = dict()</span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'会员积分剩余积分.txt'</span>, <span class="string">'a+'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                fr.seek(<span class="number">0</span>)</span><br><span class="line">                new_info_list = fr.read().split(<span class="string">'|'</span>)[:<span class="number">-1</span>]</span><br><span class="line">                <span class="keyword">for</span> new_info <span class="keyword">in</span> new_info_list:</span><br><span class="line">                    new_info = new_info.split(<span class="string">':'</span>)</span><br><span class="line">                    <span class="keyword">if</span> new_info[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> new_menber_integral_dict:</span><br><span class="line">                        new_menber_integral_dict[new_info[<span class="number">0</span>]] = float(new_info[<span class="number">1</span>])</span><br><span class="line">                    <span class="keyword">else</span>:</span><br><span class="line">                        new_menber_integral_dict[new_info[<span class="number">0</span>]] += float(new_info[<span class="number">1</span>])</span><br><span class="line">            <span class="comment">#礼物字典:</span></span><br><span class="line">            gift_dict = &#123;</span><br><span class="line">                <span class="string">'0'</span>:[<span class="string">'钢笔'</span>,<span class="number">1.0</span>],</span><br><span class="line">                <span class="string">'1'</span>:[<span class="string">'奥特曼玩偶'</span>,<span class="number">2.0</span>],</span><br><span class="line">                <span class="string">'2'</span>:[<span class="string">'高达'</span>,<span class="number">10.0</span>],</span><br><span class="line">                <span class="string">'3'</span>:[<span class="string">'钢铁侠1比1外套'</span>,<span class="number">100.0</span>]</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">#账号登入</span></span><br><span class="line">            <span class="comment">#生成账号字典</span></span><br><span class="line">            user_dict = dict()</span><br><span class="line">            <span class="keyword">import</span> os</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(<span class="string">'用户注册信息.txt'</span>):</span><br><span class="line">                <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>, <span class="string">'x'</span>, encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">                    <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">with</span> open(<span class="string">'用户注册信息.txt'</span>,<span class="string">'r'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fr:</span><br><span class="line">                user_info = fr.read()</span><br><span class="line">            user_info_list = user_info.split(<span class="string">'|'</span>)[:<span class="number">-1</span>]</span><br><span class="line">            <span class="keyword">for</span> user_pwd <span class="keyword">in</span> user_info_list:</span><br><span class="line">                user_pwd = user_pwd.split(<span class="string">':'</span>)</span><br><span class="line">                user_name = user_pwd[<span class="number">0</span>]</span><br><span class="line">                user_pwd = user_pwd[<span class="number">1</span>]</span><br><span class="line">                user_dict[user_name] = user_pwd  <span class="comment">#注册时候用户名肯定不同所以不需要判断</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">#开始登入,生成用户信息内容为密码和姓名都是字符串格式</span></span><br><span class="line">            <span class="keyword">while</span> count == <span class="number">0</span>:</span><br><span class="line">                name = input(<span class="string">'输入账号名字(输入我忘了退出会员积分兑换)'</span>)</span><br><span class="line">                pwd = input(<span class="string">'输入账号密码'</span>)</span><br><span class="line">                <span class="keyword">if</span> name ==<span class="string">'我忘了'</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> user_dict:</span><br><span class="line">                    print(<span class="string">'账号错误'</span>)</span><br><span class="line">                <span class="keyword">elif</span> pwd != user_dict[name]:</span><br><span class="line">                    print(<span class="string">'密码错误'</span>)</span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    print(<span class="string">'登入成功'</span>)</span><br><span class="line"></span><br><span class="line">                    <span class="comment">#打印他剩余积分以及奖品兑换信息</span></span><br><span class="line">                    print(<span class="string">'-'</span>*<span class="number">50</span>)</span><br><span class="line">                    print(<span class="string">'可兑换的奖品'</span>.center(<span class="number">50</span>,<span class="string">' '</span>))</span><br><span class="line">                    print(<span class="string">f"输入0礼品为<span class="subst">&#123;gift_dict[<span class="string">'0'</span>][<span class="number">0</span>]&#125;</span>需要积分为<span class="subst">&#123;gift_dict[<span class="string">'0'</span>][<span class="number">1</span>]&#125;</span>分\n"</span></span><br><span class="line">                          <span class="string">f"输入1礼品为<span class="subst">&#123;gift_dict[<span class="string">'1'</span>][<span class="number">0</span>]&#125;</span>需要积分为<span class="subst">&#123;gift_dict[<span class="string">'0'</span>][<span class="number">1</span>]&#125;</span>分\n"</span></span><br><span class="line">                          <span class="string">f"输入2礼品为<span class="subst">&#123;gift_dict[<span class="string">'2'</span>][<span class="number">0</span>]&#125;</span>需要积分为<span class="subst">&#123;gift_dict[<span class="string">'2'</span>][<span class="number">1</span>]&#125;</span>分\n"</span></span><br><span class="line">                          <span class="string">f"输入3礼品为<span class="subst">&#123;gift_dict[<span class="string">'3'</span>][<span class="number">0</span>]&#125;</span>需要积分为<span class="subst">&#123;gift_dict[<span class="string">'3'</span>][<span class="number">1</span>]&#125;</span>分\n"</span></span><br><span class="line">                          <span class="string">f"退出输入X或者x"</span>)</span><br><span class="line">                    <span class="comment"># print(gift_dict)</span></span><br><span class="line">                    <span class="comment"># print(new_menber_integral_dict)</span></span><br><span class="line">                    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line"></span><br><span class="line">                    <span class="comment">#选择礼物</span></span><br><span class="line">                    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">                        gift_choise = input(<span class="string">'请输入你要兑换的礼物'</span>).strip()</span><br><span class="line">                        <span class="keyword">if</span> new_menber_integral_dict == dict():</span><br><span class="line">                            print(<span class="string">'你的积分为0分'</span>)</span><br><span class="line">                            <span class="keyword">return</span></span><br><span class="line">                        <span class="keyword">elif</span> gift_choise <span class="keyword">not</span> <span class="keyword">in</span> gift_dict:</span><br><span class="line">                            print(<span class="string">'请在0,1,2,3,X,x中选择输入'</span>)</span><br><span class="line">                            <span class="keyword">continue</span></span><br><span class="line">                        <span class="keyword">else</span>:</span><br><span class="line">                            <span class="keyword">if</span> gift_choise == <span class="string">'X'</span> <span class="keyword">or</span> gift_choise == <span class="string">'x'</span>:</span><br><span class="line">                                <span class="keyword">break</span></span><br><span class="line">                            <span class="keyword">if</span> name <span class="keyword">not</span> <span class="keyword">in</span> new_menber_integral_dict:</span><br><span class="line">                                print(<span class="string">'你的账号没有积分'</span>)</span><br><span class="line">                                <span class="keyword">break</span></span><br><span class="line">                            <span class="keyword">if</span> gift_dict[gift_choise][<span class="number">1</span>] &gt; new_menber_integral_dict[name]:</span><br><span class="line">                                print(<span class="string">f'积分不足\n'</span></span><br><span class="line">                                      <span class="string">f'您的剩余积分:<span class="subst">&#123;new_menber_integral_dict[name]&#125;</span>分'</span>)</span><br><span class="line">                            <span class="keyword">else</span>:</span><br><span class="line">                                print(<span class="string">f"恭喜你获得<span class="subst">&#123;gift_dict[gift_choise][<span class="number">0</span>]&#125;</span>\n"</span></span><br><span class="line">                                      <span class="string">f"剩余积分<span class="subst">&#123;new_menber_integral_dict[name]-gift_dict[gift_choise][<span class="number">1</span>]&#125;</span>\n"</span>)</span><br><span class="line">                                <span class="comment">#将内容剩余积分进行统计</span></span><br><span class="line">                                <span class="keyword">with</span> open(<span class="string">'会员积分剩余积分.txt'</span>,<span class="string">'a'</span>,encoding=<span class="string">'utf8'</span>) <span class="keyword">as</span> fw:</span><br><span class="line">                                    fw.write(<span class="string">f'<span class="subst">&#123;name&#125;</span>:-<span class="subst">&#123;gift_dict[gift_choise][<span class="number">1</span>]&#125;</span>|'</span>)</span><br><span class="line">                                count = <span class="number">1</span></span><br><span class="line">                                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">return</span> gift</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br><span class="line">print(<span class="string">'欢迎来到杨大爷超市'</span>.center(<span class="number">30</span>,<span class="string">' '</span>))</span><br><span class="line">print(<span class="string">"-"</span> * <span class="number">50</span>)</span><br><span class="line">x = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> x == <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">    your_chiose = input(<span class="string">'输入0注册会员进入注册功能\n'</span></span><br><span class="line">                        <span class="string">'输入1黑店我要走了\n'</span></span><br><span class="line">                        <span class="string">'输入2直接进入购物\n'</span></span><br><span class="line">                        <span class="string">'输入3会员积分查询\n'</span></span><br><span class="line">                        <span class="string">'输入4会员积分兑换礼物\n'</span></span><br><span class="line">                        <span class="string">'请输入:'</span>)</span><br><span class="line">    print(<span class="string">'-'</span> * <span class="number">50</span>)</span><br><span class="line">    <span class="keyword">if</span> your_chiose <span class="keyword">not</span> <span class="keyword">in</span> [<span class="string">'0'</span>, <span class="string">'2'</span>, <span class="string">'1'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>]:</span><br><span class="line">        print(<span class="string">'亲,输入0~4中数字'</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">if</span> your_chiose == <span class="string">'0'</span>:</span><br><span class="line">            chiose(<span class="number">0</span>)()</span><br><span class="line">        <span class="keyword">elif</span> your_chiose == <span class="string">'2'</span>:</span><br><span class="line">            chiose(<span class="number">2</span>)()</span><br><span class="line">            chiose(<span class="number">1</span>)()</span><br><span class="line">        <span class="keyword">elif</span> your_chiose == <span class="string">'3'</span>:</span><br><span class="line">            chiose(<span class="number">3</span>)()</span><br><span class="line">        <span class="keyword">elif</span> your_chiose == <span class="string">'4'</span>:</span><br><span class="line">            chiose(<span class="number">4</span>)()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">'拜拜'</span>)</span><br><span class="line">            x = <span class="number">1</span></span><br></pre></td></tr></table></figure>
<h2 id="三-鱼骨图分析异常"><a href="#三-鱼骨图分析异常" class="headerlink" title="三.鱼骨图分析异常"></a>三.鱼骨图分析异常</h2><p><code>我用我之前工作,qc\qa工程师的经验给你们用鱼骨图分析法分析下我程序编写可能会碰到的异常情况</code><br>制图来之与X-Mind制作<br>先给大家简单介绍下鱼骨图分析方法.<br>首先是鱼骨,是我们要实现的一个某个功能,在工厂里呢这个叫工艺<br>第二步,大鱼刺我们就要画他的子功能,在工厂里是一个个工艺流程<br>第三步,小鱼刺是我们在实施子程序碰到的问题,在工厂是工艺流程中的一个个异常<br>然后我们要把一个个小鱼刺给解决掉,每次发现小功能异常就加小鱼刺,每次解决掉一个就拔去一个个小鱼刺,直到最后没有鱼刺为止.然后功能就慢慢完善了这是我在写我的小程序中碰到的问题<br><code>鱼骨图法是来分析异常解决异常的一种分析方法</code><br><img src="https://images.cnblogs.com/cnblogs_com/pythonywy/1452728/o_购物系统.png" /></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E6%A8%A1%E6%8B%9Fssh%E8%BF%9C%E7%A8%8B%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4,%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98,%E5%9F%BA%E4%BA%8Esocketserver%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91%E7%9A%84socket/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E6%A8%A1%E6%8B%9Fssh%E8%BF%9C%E7%A8%8B%E6%89%A7%E8%A1%8C%E5%91%BD%E4%BB%A4,%E7%B2%98%E5%8C%85%E9%97%AE%E9%A2%98,%E5%9F%BA%E4%BA%8Esocketserver%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91%E7%9A%84socket/" class="post-title-link" itemprop="url">模拟ssh远程执行命令,粘包问题,基于socketserver实现并发的socket</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:45" itemprop="dateModified" datetime="2020-03-06T11:39:45+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="06-27自我总结"><a href="#06-27自我总结" class="headerlink" title="06.27自我总结"></a>06.27自我总结</h1><h2 id="1-模拟ssh远程执行命令"><a href="#1-模拟ssh远程执行命令" class="headerlink" title="1.模拟ssh远程执行命令"></a>1.模拟ssh远程执行命令</h2><p><code>利用套接字编来进行远程执行命令</code><br>服务端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">server = socket(AF_INET, SOCK_STREAM)</span><br><span class="line"></span><br><span class="line">server.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8000</span>))</span><br><span class="line">server.listen(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">print(<span class="string">'start...'</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    conn, client_addr = server.accept()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">'from client:'</span>, client_addr)</span><br><span class="line"></span><br><span class="line">        cmd = conn.recv(<span class="number">1024</span>)</span><br><span class="line">        <span class="keyword">if</span> len(cmd) == <span class="number">0</span>: <span class="keyword">break</span></span><br><span class="line">        print(<span class="string">'cmd:'</span>, cmd)</span><br><span class="line"></span><br><span class="line">        obj = subprocess.Popen(cmd.decode(<span class="string">'utf8'</span>),  <span class="comment"># 输入的cmd命令</span></span><br><span class="line">                               shell=<span class="literal">True</span>,  <span class="comment"># 通过shell运行</span></span><br><span class="line">                               stderr=subprocess.PIPE,  <span class="comment"># 把错误输出放入管道，以便打印</span></span><br><span class="line">                               stdout=subprocess.PIPE)  <span class="comment"># 把正确输出放入管道，以便打印</span></span><br><span class="line"></span><br><span class="line">        stdout = obj.stdout.read()  <span class="comment"># 打印正确输出</span></span><br><span class="line">        stderr = obj.stderr.read()  <span class="comment"># 打印错误输出</span></span><br><span class="line"></span><br><span class="line">        conn.send(stdout)</span><br><span class="line">        conn.send(stderr)</span><br><span class="line"></span><br><span class="line">    conn.close()</span><br><span class="line"></span><br><span class="line">server.close()</span><br></pre></td></tr></table></figure>
<p>客户端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">port socket</span><br><span class="line"></span><br><span class="line">client = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line"></span><br><span class="line">client.connect((<span class="string">'127.0.0.1'</span>, <span class="number">8000</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data = input(<span class="string">'please enter your data'</span>)</span><br><span class="line">    client.send(data.encode(<span class="string">'utf8'</span>))</span><br><span class="line">    data = client.recv(<span class="number">1024</span>)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">'from server:'</span>, data)</span><br><span class="line"></span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<p>输入<code>dir</code>命令，由于服务端发送字节少于1024字节，客户端可以接受。<br>输入<code>tasklist</code>命令，由于服务端发送字节多于1024字节，客户端只接受部分数据，并且当你再次输入<code>dir</code>命令的时候，客户端会接收<code>dir</code>命令的结果，但是会打印上一次的剩余未发送完的数据，这就是粘包问题</p>
<h2 id="2-粘包问题和解决粘包问题"><a href="#2-粘包问题和解决粘包问题" class="headerlink" title="2.粘包问题和解决粘包问题"></a>2.粘包问题和解决粘包问题</h2><h3 id="1-粘包问题"><a href="#1-粘包问题" class="headerlink" title="1.粘包问题"></a>1.粘包问题</h3><p>粘包问题主要出现在用TCP协议传输中才会出现的问题,UDP不会出现,因为TCP传输中他会服务端会一次性把所有东西一并丢入缓存区,而读取的内容大小有时候没法准确的做到一一读取,所有会存在粘包,而UDP他传输的时候是吧一个个内容丢过去,不管客户端能否完全接受到内容他都会接受他制定大小的内容,而内容大于他接受设定的大小时候多余的东西会被丢到</p>
<h3 id="2-解决粘包问题"><a href="#2-解决粘包问题" class="headerlink" title="2.解决粘包问题"></a>2.解决粘包问题</h3><p><code>我们通过粘包他产生的问题入手如果我们知道他传输的文件大小我们就可以按他大小完美的全部接受他</code><br>我们引入<code>struct</code>模块:<a href="https://www.cnblogs.com/pythonywy/p/11097305.html" target="_blank" rel="noopener" class="uri">https://www.cnblogs.com/pythonywy/p/11097305.html</a><br>服务端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"><span class="keyword">import</span> subprocess</span><br><span class="line"></span><br><span class="line">sever = socket(AF_INET,SOCK_STREAM)  <span class="comment">#创建服务器</span></span><br><span class="line"></span><br><span class="line">sever.bind((<span class="string">'127.0.0.1'</span>,<span class="number">8000</span>))   <span class="comment">#创建地址</span></span><br><span class="line"></span><br><span class="line">sever.listen(<span class="number">5</span>)     <span class="comment">#创建连接个数</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    print(<span class="string">'start...'</span>)</span><br><span class="line">    conn,addr = sever.accept()      <span class="comment">#连接</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            cmd = conn.recv(<span class="number">1024</span>)   <span class="comment">#就收CMD指令</span></span><br><span class="line">            print(<span class="string">'cmd:'</span>,cmd)</span><br><span class="line"></span><br><span class="line">            obj = subprocess.Popen(cmd.decode(<span class="string">'utf8'</span>),</span><br><span class="line">                                   shell = <span class="literal">True</span>,</span><br><span class="line">                                   stderr= subprocess.PIPE,</span><br><span class="line">                                   stdout=subprocess.PIPE)</span><br><span class="line">            stdout = obj.stdout.read()</span><br><span class="line">            stderr = obj.stderr.read()</span><br><span class="line">            <span class="comment"># stdout = obj.stdout.read()</span></span><br><span class="line"></span><br><span class="line">            count_len = len(stdout) + len(stderr)</span><br><span class="line"></span><br><span class="line">            guiding_bytes = struct.pack(<span class="string">'i'</span>,count_len)  <span class="comment">#压缩他大小</span></span><br><span class="line">            conn.send(guiding_bytes)</span><br><span class="line">            conn.send(stdout+stderr)</span><br><span class="line">        <span class="keyword">except</span> ConnectionRefusedError:</span><br><span class="line">            <span class="keyword">break</span></span><br></pre></td></tr></table></figure>
<p>客户端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> socket <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> struct</span><br><span class="line"></span><br><span class="line">client = socket(AF_INET,SOCK_STREAM)</span><br><span class="line"></span><br><span class="line">client.connect((<span class="string">'127.0.0.1'</span>,<span class="number">8000</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    cmd = input(<span class="string">'please enter your cmd&gt;&gt;&gt;'</span>)</span><br><span class="line"></span><br><span class="line">    client.send(cmd.encode(<span class="string">'utf8'</span>)) <span class="comment">#传送命令</span></span><br><span class="line"></span><br><span class="line">    count_len = client.recv(<span class="number">4</span>)</span><br><span class="line"></span><br><span class="line">    fixing_bytes = struct.unpack(<span class="string">'i'</span>,count_len)[<span class="number">0</span>] <span class="comment">#解压</span></span><br><span class="line"></span><br><span class="line">    msg = client.recv(fixing_bytes)</span><br><span class="line"></span><br><span class="line">    print(msg.decode(<span class="string">'gbk'</span>))</span><br></pre></td></tr></table></figure>
<h2 id="3-基于UDP套接字编程"><a href="#3-基于UDP套接字编程" class="headerlink" title="3.基于UDP套接字编程"></a>3.基于UDP套接字编程</h2><ul>
<li>UDP是无链接的，先启动哪一端都不会报错</li>
<li>UDP协议是数据报协议，发空的时候也会自带报头，因此客户端输入空，服务端也能收到</li>
</ul>
<p>服务端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">server = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  <span class="comment"># 数据报协议-》UDP</span></span><br><span class="line">server.bind((<span class="string">'127.0.0.1'</span>, <span class="number">8080</span>))</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    data, client_addr = server.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    print(<span class="string">'===&gt;'</span>, data, client_addr)</span><br><span class="line">    server.sendto(data.upper(), client_addr)</span><br><span class="line"></span><br><span class="line">server.close()</span><br></pre></td></tr></table></figure>
<p>客户端</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">client = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)  <span class="comment"># 数据报协议-》UDP</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    msg = input(<span class="string">'&gt;&gt;: '</span>).strip()  <span class="comment"># msg=''</span></span><br><span class="line">    client.sendto(msg.encode(<span class="string">'utf-8'</span>), (<span class="string">'127.0.0.1'</span>, <span class="number">8080</span>))</span><br><span class="line">    data, server_addr = client.recvfrom(<span class="number">1024</span>)</span><br><span class="line">    print(data)</span><br><span class="line"></span><br><span class="line">client.close()</span><br></pre></td></tr></table></figure>
<h2 id="4-基于socketserver实现并发的socket"><a href="#4-基于socketserver实现并发的socket" class="headerlink" title="4.基于socketserver实现并发的socket"></a>4.基于socketserver实现并发的socket</h2><p>基于tcp的套接字，关键就是两个循环，一个链接循环，一个通信循环<br>socketserver模块中分两大类：server类（解决链接问题）和request类（解决通信问题）</p>
<h3 id="1-server类"><a href="#1-server类" class="headerlink" title="1.server类"></a>1.server类</h3><img src="https://www.cnblogs.com/images/cnblogs_com/pythonywy/1452728/o_o_126-%e5%9f%ba%e4%ba%8esocketserver%e5%ae%9e%e7%8e%b0%e5%b9%b6%e5%8f%91%e7%9a%84socket-server%e7%b1%bb.png" />
### 2.request类
<img src="https://www.cnblogs.com/images/cnblogs_com/pythonywy/1452728/o_o_126-%e5%9f%ba%e4%ba%8esocketserver%e5%ae%9e%e7%8e%b0%e5%b9%b6%e5%8f%91%e7%9a%84socket-request%e7%b1%bb.png" />
### 3.继承关系
<img src="https://www.cnblogs.com/images/cnblogs_com/pythonywy/1452728/o_1.png" />
<img src="https://www.cnblogs.com/images/cnblogs_com/pythonywy/1452728/o_2.png" />
<img src="https://www.cnblogs.com/images/cnblogs_com/pythonywy/1452728/o_3.png" />
服务端
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socketserver</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyHandler</span><span class="params">(socketserver.BaseRequestHandler)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">handle</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="comment"># 通信循环</span></span><br><span class="line">        <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="comment"># print(self.client_address)</span></span><br><span class="line">            <span class="comment"># print(self.request) #self.request=conn</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">try</span>:</span><br><span class="line">                data = self.request.recv(<span class="number">1024</span>)</span><br><span class="line">                <span class="keyword">if</span> len(data) == <span class="number">0</span>: <span class="keyword">break</span></span><br><span class="line">                self.request.send(data.upper())</span><br><span class="line">            <span class="keyword">except</span> ConnectionResetError:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    s = socketserver.ThreadingTCPServer((<span class="string">'127.0.0.1'</span>, <span class="number">8080</span>), MyHandler, bind_and_activate=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    s.serve_forever()  <span class="comment"># 代表连接循环</span></span><br><span class="line">    <span class="comment"># 循环建立连接，每建立一个连接就会启动一个线程（服务员）+调用Myhanlder类产生一个对象，调用该对象下的handle方法，专门与刚刚建立好的连接做通信循环</span></span><br></pre></td></tr></table></figure>
客户端
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> socket</span><br><span class="line"></span><br><span class="line">phone = socket.socket(socket.AF_INET, socket.SOCK_STREAM)</span><br><span class="line">phone.connect((<span class="string">'127.0.0.1'</span>, <span class="number">8080</span>))  <span class="comment"># 指定服务端ip和端口</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="comment"># msg=input('&gt;&gt;: ').strip() #msg=''</span></span><br><span class="line">    msg = <span class="string">'client33333'</span>  <span class="comment"># msg=''</span></span><br><span class="line">    <span class="keyword">if</span> len(msg) == <span class="number">0</span>: <span class="keyword">continue</span></span><br><span class="line">    phone.send(msg.encode(<span class="string">'utf-8'</span>))</span><br><span class="line">    data = phone.recv(<span class="number">1024</span>)</span><br><span class="line">    print(data)</span><br><span class="line"></span><br><span class="line">phone.close()</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E6%A8%A1%E6%8B%9F%E7%99%BE%E5%BA%A6%E8%BF%9B%E8%A1%8C%E5%9B%BE%E7%89%87%E6%90%9C%E7%B4%A2,%E6%9C%89%E9%97%AE%E9%A2%98%E5%8F%AF%E4%BB%A5%E7%95%99%E8%A8%80/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E6%A8%A1%E6%8B%9F%E7%99%BE%E5%BA%A6%E8%BF%9B%E8%A1%8C%E5%9B%BE%E7%89%87%E6%90%9C%E7%B4%A2,%E6%9C%89%E9%97%AE%E9%A2%98%E5%8F%AF%E4%BB%A5%E7%95%99%E8%A8%80/" class="post-title-link" itemprop="url">模拟百度进行图片搜索,有问题可以留言</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:42" itemprop="dateModified" datetime="2020-03-06T11:38:42+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>模拟百度进行图片搜索</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="comment">#分析页面我们先在百度图片搜索里面随笔输入一个'背景图片'获得链接如下</span></span><br><span class="line"><span class="comment">#https://image.baidu.com/search/index?tn=baiduimage&amp;amp;ipn=r&amp;amp;ct=201326592&amp;amp;cl=2&amp;amp;lm=-1&amp;amp;st=-1&amp;amp;fm=index&amp;amp;fr=&amp;amp;hs=0&amp;amp;xthttps=111111&amp;amp;sf=1&amp;amp;fmq=&amp;amp;pv=&amp;amp;ic=0&amp;amp;nc=1&amp;amp;z=&amp;amp;se=1&amp;amp;showtab=0&amp;amp;fb=0&amp;amp;width=&amp;amp;height=&amp;amp;face=0&amp;amp;istype=2&amp;amp;ie=utf-8&amp;amp;word=背景图片</span></span><br><span class="line"><span class="comment">#word为我们查找的内容</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># data = input('请输入你要搜索的内容')</span></span><br><span class="line"><span class="comment"># rp = requests.get(f'https://image.baidu.com/search/index?tn=baiduimage&amp;amp;ipn=r&amp;amp;ct=201326592&amp;amp;cl=2&amp;amp;lm=-1&amp;amp;st=-1&amp;amp;fm=index&amp;amp;fr=&amp;amp;hs=0&amp;amp;xthttps=111111&amp;amp;sf=1&amp;amp;fmq=&amp;amp;pv=&amp;amp;ic=0&amp;amp;nc=1&amp;amp;z=&amp;amp;se=1&amp;amp;showtab=0&amp;amp;fb=0&amp;amp;width=&amp;amp;height=&amp;amp;face=0&amp;amp;istype=2&amp;amp;ie=utf-8&amp;amp;word=&#123;data&#125;')</span></span><br><span class="line"><span class="comment"># rp.encoding = rp.apparent_encoding</span></span><br><span class="line"><span class="comment"># print(rp.text)</span></span><br><span class="line"><span class="comment">#试了一下很明显内容是错误的,主体很多内容没有</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#这时候我们加headers</span></span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 6.1; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/75.0.3770.90 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">#User-Agent是对于我们来源的进行伪装</span></span><br><span class="line"></span><br><span class="line">data = input(<span class="string">'请输入你要搜索的内容'</span>)</span><br><span class="line">rp = requests.get(<span class="string">f'https://image.baidu.com/search/index?tn=baiduimage&amp;amp;ipn=r&amp;amp;ct=201326592&amp;amp;cl=2&amp;amp;lm=-1&amp;amp;st=-1&amp;amp;fm=index&amp;amp;fr=&amp;amp;hs=0&amp;amp;xthttps=111111&amp;amp;sf=1&amp;amp;fmq=&amp;amp;pv=&amp;amp;ic=0&amp;amp;nc=1&amp;amp;z=&amp;amp;se=1&amp;amp;showtab=0&amp;amp;fb=0&amp;amp;width=&amp;amp;height=&amp;amp;face=0&amp;amp;istype=2&amp;amp;ie=utf-8&amp;amp;word=<span class="subst">&#123;data&#125;</span>'</span>,headers=headers)</span><br><span class="line">rp.encoding = rp.apparent_encoding</span><br><span class="line">data = <span class="string">'"middleURL":"(.*?)",'</span></span><br><span class="line"><span class="comment"># print(rp.text)</span></span><br><span class="line"><span class="comment">#对于url查找我们一定不要看原网页上的,要看访问请求下来的text,他可能会相比于原来网页会少了点前缀之类的,但是肯定会有一部分内容一样,绝对能发现的.</span></span><br><span class="line">url = re.findall(data,rp.text,re.S)</span><br><span class="line">print(url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">#下一步对就是对爬取的url再进行访问可以将文件保存至本地,具体可以参考博客</span></span><br><span class="line">https://www.cnblogs.com/pythonywy/p/<span class="number">10856508.</span>html</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E7%88%AC%E8%99%ABselenium%E4%B8%AD%E5%8A%A8%E4%BD%9C%E9%93%BE%E6%8E%A5ActionChains/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E7%88%AC%E8%99%ABselenium%E4%B8%AD%E5%8A%A8%E4%BD%9C%E9%93%BE%E6%8E%A5ActionChains/" class="post-title-link" itemprop="url">爬虫selenium中动作链接ActionChains</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:58" itemprop="dateModified" datetime="2020-03-06T11:38:58+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-基本语法"><a href="#一-基本语法" class="headerlink" title="一.基本语法"></a>一.基本语法</h2><ul>
<li>生成一个动作actions=ActionChains(driver)</li>
<li>动作添加方法actions.方法</li>
<li>执行 actions.perform()</li>
</ul>
<h2 id="二-方法列表"><a href="#二-方法列表" class="headerlink" title="二.方法列表"></a>二.方法列表</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">click(on_element=<span class="literal">None</span>) ——单击鼠标左键</span><br><span class="line">click_and_hold(on_element=<span class="literal">None</span>) ——点击鼠标左键，不松开</span><br><span class="line">context_click(on_element=<span class="literal">None</span>) ——点击鼠标右键</span><br><span class="line">double_click(on_element=<span class="literal">None</span>) ——双击鼠标左键</span><br><span class="line">drag_and_drop(source, target) ——拖拽到某个元素然后松开</span><br><span class="line">drag_and_drop_by_offset(source, xoffset, yoffset) ——拖拽到某个坐标然后松开</span><br><span class="line">key_down(value, element=<span class="literal">None</span>) ——按下某个键盘上的键</span><br><span class="line">key_up(value, element=<span class="literal">None</span>) ——松开某个键</span><br><span class="line">move_by_offset(xoffset, yoffset) ——鼠标从当前位置移动到某个坐标</span><br><span class="line">move_to_element(to_element) ——鼠标移动到某个元素</span><br><span class="line">move_to_element_with_offset(to_element, xoffset, yoffset) ——移动到距某个元素（左上角坐标）多少距离的位置</span><br><span class="line">perform() ——执行链中的所有动作</span><br><span class="line">release(on_element=<span class="literal">None</span>) ——在某个元素位置松开鼠标左键</span><br><span class="line">send_keys(*keys_to_send) ——发送某个键到当前焦点的元素</span><br><span class="line">send_keys_to_element(element, *keys_to_send) ——发送某个键到指定元素</span><br></pre></td></tr></table></figure>
<h2 id="三-拖动实现-滑块验证会用到移动"><a href="#三-拖动实现-滑块验证会用到移动" class="headerlink" title="三.拖动实现(滑块验证会用到移动)"></a>三.拖动实现(滑块验证会用到移动)</h2><p>两种实现方式</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#前面无聊的代码我就略咯</span></span><br><span class="line"><span class="comment">#方式一：</span></span><br><span class="line">actions=ActionChains(driver) <span class="comment">#拿到动作链对象</span></span><br><span class="line">actions.drag_and_drop(sourse,target).perform() <span class="comment">#其中sourse为起始元素对象，target为结束位置元素对象</span></span><br><span class="line"><span class="comment">#一般用于把一个图片从一个地方拖到另外个元素地方</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#方式二:</span></span><br><span class="line">actions=ActionChains(driver) <span class="comment">#拿到动作链对象</span></span><br><span class="line">actions.click_and_hold(移动的对象).perform()</span><br><span class="line">actions.move_by_offset(x,y).perform()   <span class="comment">#x为移动水平距离,y为移动垂直距离,正负代表左右或者上下</span></span><br><span class="line">actions.release().perform()  <span class="comment">#松开,这一步别忘了</span></span><br></pre></td></tr></table></figure>
<h2 id="四-类人滑动滑块"><a href="#四-类人滑动滑块" class="headerlink" title="四.类人滑动滑块"></a>四.类人滑动滑块</h2><p>给个段代码哈</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_stacks</span><span class="params">(distance)</span>:</span>     <span class="comment">#distance为滑动的总长度</span></span><br><span class="line">    distance += <span class="number">20</span></span><br><span class="line"></span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    匀加速\减速运行</span></span><br><span class="line"><span class="string">        v = v0 + a * t</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">    位移:</span></span><br><span class="line"><span class="string">    s = v * t + 0.5 * a * (t**2)</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初速度</span></span><br><span class="line">    v0 = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 加减速度列表</span></span><br><span class="line">    a_list = [<span class="number">20</span>,<span class="number">40</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 时间</span></span><br><span class="line">    t = <span class="number">0.1</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 初始位置</span></span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 向前滑动轨迹</span></span><br><span class="line">    forward_stacks = []</span><br><span class="line"></span><br><span class="line">    mid = distance * <span class="number">3</span> / <span class="number">5</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> s &lt; distance:</span><br><span class="line">        <span class="keyword">if</span> s &lt; mid:</span><br><span class="line">            a = a_list[random.randint(<span class="number">0</span>, <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            a = -a_list[<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">        v = v0</span><br><span class="line"></span><br><span class="line">        stack = v * t + <span class="number">0.5</span> * a * (t ** <span class="number">2</span>)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 每次拿到的位移</span></span><br><span class="line">        stack = round(stack)</span><br><span class="line"></span><br><span class="line">        s += stack</span><br><span class="line"></span><br><span class="line">        v0 = v + a * t</span><br><span class="line"></span><br><span class="line">        forward_stacks.append(stack)</span><br><span class="line"></span><br><span class="line">    back_stacks = [<span class="number">-1</span>, <span class="number">-1</span>, <span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-2</span>, <span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-1</span>]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> &#123;<span class="string">'forward_stacks'</span>: forward_stacks, <span class="string">'back_stacks'</span>: back_stacks&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">stacks = get_stacks(<span class="number">60</span>)</span><br><span class="line">print(stacks)</span><br><span class="line">forward_stacks = stacks[<span class="string">'forward_stacks'</span>]</span><br><span class="line">back_stacks = stacks[<span class="string">'back_stacks'</span>]</span><br><span class="line"></span><br><span class="line">slider_button = driver.find_element_by_class_name(<span class="string">'滑动东西的类名'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ActionChains(driver).click_and_hold(slider_button).perform()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> forward_stack <span class="keyword">in</span> forward_stacks:</span><br><span class="line">    ActionChains(driver).move_by_offset(xoffset=forward_stack, yoffset=<span class="number">0</span>).perform()</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> back_stack <span class="keyword">in</span> back_stacks:</span><br><span class="line">    ActionChains(driver).move_by_offset(xoffset=back_stack, yoffset=<span class="number">0</span>).perform()</span><br><span class="line"></span><br><span class="line">time.sleep(<span class="number">0.3</span>)</span><br><span class="line">ActionChains(driver).move_by_offset(xoffset=<span class="number">5</span>, yoffset=<span class="number">0</span>).perform()  </span><br><span class="line">time.sleep(<span class="number">0.2</span>)</span><br><span class="line">ActionChains(driver).move_by_offset(xoffset=<span class="number">-5</span>, yoffset=<span class="number">0</span>).perform()</span><br><span class="line">time.sleep(<span class="number">0.1</span>)</span><br><span class="line">ActionChains(driver).move_by_offset(xoffset=<span class="number">1</span>, yoffset=<span class="number">0</span>).perform()  </span><br><span class="line">time.sleep(<span class="number">0.1</span>)</span><br><span class="line">ActionChains(driver).move_by_offset(xoffset=<span class="number">-1</span>, yoffset=<span class="number">0</span>).perform()</span><br><span class="line"></span><br><span class="line">ActionChains(driver).release().perform()</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E7%88%AC%E8%99%ABselenium%E4%B8%AD%E6%88%AA%E5%9B%BE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E7%88%AC%E8%99%ABselenium%E4%B8%AD%E6%88%AA%E5%9B%BE/" class="post-title-link" itemprop="url">爬虫selenium中截图</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:51" itemprop="dateModified" datetime="2020-03-06T11:39:51+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-整个页面截图"><a href="#一-整个页面截图" class="headerlink" title="一.整个页面截图"></a>一.整个页面截图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line">diver.save_screenshot(<span class="string">'保存路径'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="二-局部截图"><a href="#二-局部截图" class="headerlink" title="二.局部截图"></a>二.局部截图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line"><span class="comment">#比如获得类名为img的元素截图</span></span><br><span class="line"><span class="comment">#首先要等待他加载出来2秒一次</span></span><br><span class="line">WebDriverWait(driver, <span class="number">2</span>,<span class="number">1</span>).until(EC.presence_of_element_located((By.CLASS_NAME, <span class="string">'img'</span>)))</span><br><span class="line"></span><br><span class="line"><span class="comment">#获取元素保存</span></span><br><span class="line">img = driver.find_element_by_class_name(<span class="string">'img'</span>).screenshot(<span class="string">'保存路径'</span>))</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E7%88%AC%E8%99%AB%E7%9A%84%E7%9B%97%E4%BA%A6%E6%9C%89%E9%81%93Robots%E5%8D%8F%E8%AE%AE/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E7%88%AC%E8%99%AB%E7%9A%84%E7%9B%97%E4%BA%A6%E6%9C%89%E9%81%93Robots%E5%8D%8F%E8%AE%AE/" class="post-title-link" itemprop="url">爬虫的盗亦有道Robots协议</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:01:31" itemprop="dateCreated datePublished" datetime="2020-03-07T23:01:31+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:40:01" itemprop="dateModified" datetime="2020-03-06T11:40:01+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="爬虫的规定"><a href="#爬虫的规定" class="headerlink" title="爬虫的规定"></a>爬虫的规定</h1><h2 id="Robots协议"><a href="#Robots协议" class="headerlink" title="Robots协议"></a>Robots协议</h2><p>网站开发者对于网络爬虫的规范的公告,你可以不遵守<code>可能存在法律风险</code>,但尽量去遵守<br>Robots协议:在网页的根目录+robots.txt<br>Robots协议的基本语法:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#注释,*代表所有,/代表根目录</span></span><br><span class="line">User-agent:* <span class="comment">#user-agent代表来源</span></span><br><span class="line">Allow:/ <span class="comment">#代表运行爬取的内容</span></span><br><span class="line">Disallow:/ <span class="comment">#代表不可爬取的目录,如果是/后面没有写内容,便是其对应的访问者不可爬取所有内容</span></span><br></pre></td></tr></table></figure>
<p><code>并不是所有网站都有Robots协议</code><br>如果一个网站不提供Robots协议,是说明这个网站对应所有爬虫没有限制<br><code>类人行为</code>可以不参考robots协议,比如我们写的小程序访问量很少,内容也少<code>但是内容不能用于商业用途</code><br>总的来说请准守Robots协议</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/7/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/7/">7</a><span class="page-number current">8</span><a class="page-number" href="/page/9/">9</a><span class="space">&hellip;</span><a class="page-number" href="/page/15/">15</a><a class="extend next" rel="next" href="/page/9/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">sir0.net</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">148</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sir0.net</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  

</body>
</html>
