<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"sir0.net","root":"/","scheme":"Muse","version":"7.7.2","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="吴梦梦、刘玥和SL炮叔">
<meta property="og:url" content="http://sir0.net/page/15/index.html">
<meta property="og:site_name" content="吴梦梦、刘玥和SL炮叔">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="sir0.net">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://sir0.net/page/15/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false
  };
</script>

  <title>吴梦梦、刘玥和SL炮叔</title>
  


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?b111bff4f8ef5699b270a9ec8dae6cef";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">吴梦梦、刘玥和SL炮叔</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%E5%92%8C%E4%B8%AD%E6%96%87%E6%B1%89%E5%AD%97%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%AD%97%E7%AC%A6%E9%9B%86%E7%BC%96%E7%A0%81%E4%B8%8B%E7%9A%84%E5%AD%97%E8%8A%82%E6%95%B0/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E8%8B%B1%E6%96%87%E5%AD%97%E6%AF%8D%E5%92%8C%E4%B8%AD%E6%96%87%E6%B1%89%E5%AD%97%E5%9C%A8%E4%B8%8D%E5%90%8C%E5%AD%97%E7%AC%A6%E9%9B%86%E7%BC%96%E7%A0%81%E4%B8%8B%E7%9A%84%E5%AD%97%E8%8A%82%E6%95%B0/" class="post-title-link" itemprop="url">英文字母和中文汉字在不同字符集编码下的字节数</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:50" itemprop="dateModified" datetime="2020-03-06T11:38:50+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="英文字母和中文汉字在不同字符集编码下的字节数"><a href="#英文字母和中文汉字在不同字符集编码下的字节数" class="headerlink" title="英文字母和中文汉字在不同字符集编码下的字节数"></a>英文字母和中文汉字在不同字符集编码下的字节数</h2><h3 id="1-英文字母"><a href="#1-英文字母" class="headerlink" title="1.英文字母"></a>1.英文字母</h3><p>字节数 : 1;编码：GB2312<br /><br>字节数 : 1;编码：GBK<br /><br>字节数 : 1;编码：GB18030<br /><br>字节数 : 1;编码：ISO-8859-1<br /><br>字节数 : 1;编码：UTF-8<br /><br>字节数 : 4;编码：UTF-16<br /><br>字节数 : 2;编码：UTF-16BE<br /><br>字节数 : 2;编码：UTF-16LE</p>
<h3 id="2-中文汉字"><a href="#2-中文汉字" class="headerlink" title="2.中文汉字"></a>2.中文汉字</h3><p>字节数 : 2;编码：GB2312<br /><br>字节数 : 2;编码：GBK<br /><br>字节数 : 2;编码：GB18030<br /><br>字节数 : 1;编码：ISO-8859-1<br /><br>字节数 : 3;编码：UTF-8<br /><br>字节数 : 4;编码：UTF-16<br /><br>字节数 : 2;编码：UTF-16BE<br /><br>字节数 : 2;编码：UTF-16LE</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E5%8E%9F%E7%94%9Fjs%E5%AF%B9cookie%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E5%8E%9F%E7%94%9Fjs%E5%AF%B9cookie%E7%9A%84%E5%A2%9E%E5%88%A0%E6%94%B9%E6%9F%A5/" class="post-title-link" itemprop="url">原生js对cookie的增删改查</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:39" itemprop="dateModified" datetime="2020-03-06T11:38:39+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="一-增"><a href="#一-增" class="headerlink" title="一.增"></a>一.增</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">document</span>.cookie = cname + <span class="string">"="</span> + cvalue + <span class="string">";expires="</span> + expires + <span class="string">";path=/"</span>;</span><br><span class="line"><span class="comment">//分别</span></span><br><span class="line"><span class="comment">//cname为cookie的key</span></span><br><span class="line"><span class="comment">//cvalue为cookie的值与key直接=相连</span></span><br><span class="line"><span class="comment">//expires为cookie的过期时间前面用;与cvalue相连</span></span><br><span class="line"><span class="comment">//path为cookie的作用域默认为当前页面</span></span><br></pre></td></tr></table></figure>
<p>其中expires的格式为Fri Sep 27 2019 14:27:25 GMT+0800 (中国标准时间)的一个对象.toUTCString<br>对于时间设置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">var d = new Date();</span><br><span class="line">d.setTime(d.getTime() + (n))//n的单位为毫秒</span><br><span class="line">var expires = d.toUTCString();</span><br></pre></td></tr></table></figure>
<h2 id="二-改"><a href="#二-改" class="headerlink" title="二.改"></a>二.改</h2><p>用同样的key的名称覆盖就好了</p>
<h2 id="三-查"><a href="#三-查" class="headerlink" title="三.查"></a>三.查</h2><p>查看全部document.cookie的结果为字符串,每个cookie之间都由;连接所有我们可以split(‘;’)把里面的cookie进行分开</p>
<h2 id="四-删"><a href="#四-删" class="headerlink" title="四.删"></a>四.删</h2><p>用同样的key的名称覆盖,把过期日期设置成过期即可</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E5%8E%9F%E7%94%9Fjs%E8%8E%B7%E5%BE%97%E5%85%AB%E7%A7%8D%E6%96%B9%E5%BC%8F,%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E5%8E%9F%E7%94%9Fjs%E8%8E%B7%E5%BE%97%E5%85%AB%E7%A7%8D%E6%96%B9%E5%BC%8F,%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C/" class="post-title-link" itemprop="url">原生js获得八种方式,事件操作</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:56" itemprop="dateModified" datetime="2020-03-06T11:38:56+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="08-17自我总结"><a href="#08-17自我总结" class="headerlink" title="08.17自我总结"></a>08.17自我总结</h1><h2 id="关于js"><a href="#关于js" class="headerlink" title="关于js"></a>关于js</h2><h2 id="一-原生js获得八种方式"><a href="#一-原生js获得八种方式" class="headerlink" title="一.原生js获得八种方式"></a>一.原生js获得八种方式</h2><ul>
<li>通过ID获取（getElementById）</li>
<li>通过name属性（getElementsByName）</li>
<li>通过标签名（getElementsByTagName）</li>
<li>通过类名（getElementsByClassName）</li>
<li>通过选择器获取一个元素（querySelector）</li>
<li>通过选择器获取一组元素（querySelectorAll）</li>
<li>获取html的方法（document.documentElement）</li>
<li>document.documentElement是专门获取html这个标签的</li>
<li>获取body的方法（document.body）</li>
<li>document.body是专门获取body这个标签的</li>
</ul>
<h2 id="二-事件句柄"><a href="#二-事件句柄" class="headerlink" title="二.事件句柄"></a>二.事件句柄</h2><table>
<thead>
<tr class="header">
<th>属性</th>
<th>当以下情况发生时，出现此事件</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>onabort</td>
<td>图像加载被中断</td>
</tr>
<tr class="even">
<td>onblur</td>
<td>元素失去焦点</td>
</tr>
<tr class="odd">
<td>onchange</td>
<td>用户改变域的内容</td>
</tr>
<tr class="even">
<td>onclick</td>
<td>鼠标点击某个对象</td>
</tr>
<tr class="odd">
<td>ondblclick</td>
<td>鼠标双击某个对象</td>
</tr>
<tr class="even">
<td>onerror</td>
<td>当加载文档或图像时发生某个错误</td>
</tr>
<tr class="odd">
<td>onfocus</td>
<td>元素获得焦点</td>
</tr>
<tr class="even">
<td>onkeydown</td>
<td>某个键盘的键被按下</td>
</tr>
<tr class="odd">
<td>onkeypress</td>
<td>某个键盘的键被按下或按住</td>
</tr>
<tr class="even">
<td>onkeyup</td>
<td>某个键盘的键被松开</td>
</tr>
<tr class="odd">
<td>onload</td>
<td>某个页面或图像被完成加载</td>
</tr>
<tr class="even">
<td>onmousedown</td>
<td>某个鼠标按键被按下</td>
</tr>
<tr class="odd">
<td>onmousemove</td>
<td>鼠标被移动</td>
</tr>
<tr class="even">
<td>onmouseout</td>
<td>鼠标从某元素移开</td>
</tr>
<tr class="odd">
<td>onmouseover</td>
<td>鼠标被移到某元素之上</td>
</tr>
<tr class="even">
<td>onmouseup</td>
<td>某个鼠标按键被松开</td>
</tr>
<tr class="odd">
<td>onreset</td>
<td>重置按钮被点击</td>
</tr>
<tr class="even">
<td>onresize</td>
<td>窗口或框架被调整尺寸</td>
</tr>
<tr class="odd">
<td>onselect</td>
<td>文本被选定</td>
</tr>
<tr class="even">
<td>onsubmit</td>
<td>提交按钮被点击</td>
</tr>
<tr class="odd">
<td>onunload</td>
<td>用户退出页面</td>
</tr>
</tbody>
</table>
## 三.使用方法
1.获取单个元素
2.单个元素发送的事件
3.发生的内容相关替换
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">let inp = document.querySelector(<span class="string">'input'</span>);</span><br><span class="line"></span><br><span class="line">inp.onkeydown = function () &#123;</span><br><span class="line">    console.log(<span class="string">'按下'</span>)</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
## 四.提取元素里面的内容

<ul>
<li>innerHTML:获取文本包括标签</li>
<li>innerText:获取文本不包括标签</li>
<li>val:获取表单里面的值</li>
</ul>
<h2 id="五-补充知识点"><a href="#五-补充知识点" class="headerlink" title="五.补充知识点"></a>五.补充知识点</h2><h3 id="获取操作父标签修改子标签"><a href="#获取操作父标签修改子标签" class="headerlink" title="获取操作父标签修改子标签"></a>获取操作父标签修改子标签</h3><p>比如说我们点击a类修改下面的b类</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xx = <span class="built_in">document</span>.querySelector(<span class="string">'.a'</span>);</span><br><span class="line">xx.onclick = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">this</span>.querySelector(<span class="string">'.b'</span>).innerHTML=<span class="string">'点击a了;</span></span><br><span class="line"><span class="string">&#125;;</span></span><br></pre></td></tr></table></figure>
<h3 id="querySelectorAll获取一组元素后我们怎么把其中的内容取出来"><a href="#querySelectorAll获取一组元素后我们怎么把其中的内容取出来" class="headerlink" title="querySelectorAll获取一组元素后我们怎么把其中的内容取出来"></a>querySelectorAll获取一组元素后我们怎么把其中的内容取出来</h3><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> xx = <span class="built_in">document</span>.querySelectorAll(<span class="string">'.a'</span>);</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; xx.length; i++)&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(xx[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E6%89%BEbug%E7%9A%84%E8%BF%87%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E6%89%BEbug%E7%9A%84%E8%BF%87%E7%A8%8B/" class="post-title-link" itemprop="url">找bug的过程</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:44" itemprop="dateModified" datetime="2020-03-06T11:39:44+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>关于昨天程序出差我找bug的过程记录<br>昨天才程序<br><a href="https://www.cnblogs.com/pythonywy/p/11006273.html" target="_blank" rel="noopener" class="uri">https://www.cnblogs.com/pythonywy/p/11006273.html</a></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">├── xxxx</span><br><span class="line">│   ├── src.py</span><br><span class="line">│   └── fil_mode.py</span><br><span class="line">│   └── data_time.py</span><br><span class="line">│   └── loading.py</span><br><span class="line">│   └── data_time.py</span><br><span class="line">│   └── logger.py</span><br></pre></td></tr></table></figure>
<p><code>src.py</code>与打印日志相关片段</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    logger_start(<span class="string">'程序主界面'</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"\033[0;31;44m\t\t杨大爷超市欢迎您\t\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入0进入注册界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入1进入登入界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入2进入充值界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入3进入余额查询界面\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入4进入购物界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入5进入解冻界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入q退出程序 \t\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="number">38</span> * <span class="string">'-'</span>)</span><br><span class="line">        user_shopping_chiose = input(<span class="string">'请输入你要选择的功能'</span>)</span><br><span class="line">        <span class="keyword">if</span> user_shopping_chiose <span class="keyword">not</span> <span class="keyword">in</span> msg_dict:</span><br><span class="line">            print(<span class="string">'请好好输入'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> user_shopping_chiose==<span class="string">'q'</span>:</span><br><span class="line">            print(<span class="string">'再见'</span>)</span><br><span class="line">            logger_end(<span class="string">'程序主界面'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            logger_start(<span class="string">f'<span class="subst">&#123;app_name_dict[user_shopping_chiose]&#125;</span>'</span>)</span><br><span class="line">            msg_dict[user_shopping_chiose]()</span><br><span class="line">            logger_end(<span class="string">f'<span class="subst">&#123;app_name_dict[user_shopping_chiose]&#125;</span>'</span>)</span><br></pre></td></tr></table></figure>
<p>我将其中打印日志出现问题的地方运行,其他地方注释掉</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    <span class="comment">#logger_start('程序主界面')</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        print(<span class="string">"\033[0;31;44m\t\t杨大爷超市欢迎您\t\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入0进入注册界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入1进入登入界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入2进入充值界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入3进入余额查询界面\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入4进入购物界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入5进入解冻界面\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="string">"\033[0;30;42m\t\t输入q退出程序 \t\t\t\t\033[5m"</span>)</span><br><span class="line">        print(<span class="number">38</span> * <span class="string">'-'</span>)</span><br><span class="line">        user_shopping_chiose = input(<span class="string">'请输入你要选择的功能'</span>)</span><br><span class="line">        <span class="keyword">if</span> user_shopping_chiose <span class="keyword">not</span> <span class="keyword">in</span> msg_dict:</span><br><span class="line">            print(<span class="string">'请好好输入'</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">elif</span> user_shopping_chiose==<span class="string">'q'</span>:</span><br><span class="line">            print(<span class="string">'再见'</span>)</span><br><span class="line">            logger_end(<span class="string">'程序主界面'</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            logger_start(<span class="string">f'<span class="subst">&#123;app_name_dict[user_shopping_chiose]&#125;</span>'</span>)</span><br><span class="line">            msg_dict[user_shopping_chiose]()</span><br><span class="line">            <span class="comment">#logger_end(f'&#123;app_name_dict[user_shopping_chiose]&#125;')</span></span><br></pre></td></tr></table></figure>
<p>生成的日志</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">53</span>  <span class="comment">#运行一次top_up功能</span></span><br><span class="line"></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">55</span>  <span class="comment">#运行两次top_up功能</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">55</span></span><br><span class="line"></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">57</span>  <span class="comment">#运行三次top_up功能</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">57</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">57</span></span><br><span class="line"></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">58</span>  <span class="comment">#运行四次top_up功能</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">58</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">58</span></span><br><span class="line">top_up程序启动时间:<span class="number">2019</span><span class="number">-06</span><span class="number">-12</span> <span class="number">17</span>:<span class="number">37</span>:<span class="number">58</span></span><br></pre></td></tr></table></figure>
<p>我们发现他运行后内侧应该还存在日志相关函数,我们这时候看看原来的函数<br><code>logger.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_start</span><span class="params">(app)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(<span class="string">'start'</span>)</span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'app.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'%(message)s程序启动时间:%(asctime)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(app)</span><br><span class="line">    </span><br><span class="line"><span class="comment">#这时候我又三种想法,</span></span><br><span class="line"><span class="comment">#第一种把函数return出来,每次赋予不同的变量名,这里可以用时间生成函数来进行保证每次函数名不一样</span></span><br><span class="line"><span class="comment">#第二种找可能会出现相同地方'logger_login'这个名字</span></span><br><span class="line"><span class="comment">#第三种找可能会出现相同地方logging.getLogger('start')中('start')这个名字</span></span><br></pre></td></tr></table></figure>
<p>我选择最容易修改的第三种进行修改</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> logging</span><br><span class="line"><span class="keyword">from</span> data_time <span class="keyword">import</span> data_time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_login</span><span class="params">(user)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(data_time()) <span class="comment">#这是我自定义的一个函数返回值是当前时间每次都会不同</span></span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'user_login.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'登入时间:%(asctime)s  %(levelname)s-用户:%(message)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(user)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_exit</span><span class="params">(user)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(data_time())</span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'user_login.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'退出时间:%(asctime)s  %(levelname)s-用户:%(message)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(user)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_start</span><span class="params">(app)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(data_time())</span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'app.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'%(message)s程序启动时间:%(asctime)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(app)</span><br><span class="line">    </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_end</span><span class="params">(app)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(data_time())</span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'app.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'%(message)s程序关闭时间:%(asctime)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(app)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logger_shopping</span><span class="params">(user,car)</span>:</span></span><br><span class="line">    logger_login = logging.getLogger(data_time())</span><br><span class="line">    fli_show = logging.FileHandler(<span class="string">'user_shopping.log'</span>)</span><br><span class="line">    logger_format = logging.Formatter(<span class="string">'%(asctime)s  %(levelname)s-%(message)s'</span>,</span><br><span class="line">                     datefmt=<span class="string">'%Y-%m-%d %X'</span> )</span><br><span class="line">    fli_show.setFormatter(logger_format)</span><br><span class="line">    logger_login.addHandler(fli_show)</span><br><span class="line">    logger_login.setLevel(<span class="number">10</span>)</span><br><span class="line">    logger_login.info(user,car)</span><br></pre></td></tr></table></figure>
<p>最后呢解决了</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E7%BB%88%E7%AB%AF%E6%89%93%E5%8D%B0%E8%A6%86%E7%9B%96%E6%89%93%E5%8D%B0,%E8%AE%A9%E5%8A%A0%E8%BD%BD%E7%95%8C%E9%9D%A2%E6%9B%B4%E5%8A%A0%E5%A5%BD%E7%9C%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E7%BB%88%E7%AB%AF%E6%89%93%E5%8D%B0%E8%A6%86%E7%9B%96%E6%89%93%E5%8D%B0,%E8%AE%A9%E5%8A%A0%E8%BD%BD%E7%95%8C%E9%9D%A2%E6%9B%B4%E5%8A%A0%E5%A5%BD%E7%9C%8B/" class="post-title-link" itemprop="url">终端打印覆盖打印,让加载界面更加好看</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:26" itemprop="dateModified" datetime="2020-03-06T11:39:26+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><code>比如我们要打印一个加载动画</code><br /><br>主要运用<code>\r</code>的功能移至开头<br>这是以下两个打印效果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">0</span>,<span class="number">101</span>):</span><br><span class="line">    print(<span class="string">"\r"</span>,<span class="string">f'[\033[1;31;40m%-<span class="subst">&#123;a&#125;</span>s%-3s\033[0m%-<span class="subst">&#123;<span class="number">100</span>-a&#125;</span>s'</span> % (<span class="string">''</span>, <span class="string">f'<span class="subst">&#123;a&#125;</span>%'</span>, <span class="string">''</span>),end=<span class="string">']'</span>) <span class="comment">#每次打印前都移至开头</span></span><br><span class="line">    a = random.uniform(<span class="number">0</span>,<span class="number">0.7</span>)</span><br><span class="line">    time.sleep(a)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> a <span class="keyword">in</span> range(<span class="number">100</span>):</span><br><span class="line">    a = a%<span class="number">4</span></span><br><span class="line">    print(<span class="string">'\r'</span>,<span class="string">f"Loing<span class="subst">&#123;<span class="string">'.'</span>*a&#125;</span>"</span>,end=<span class="string">''</span>)</span><br><span class="line">    x = random.uniform(<span class="number">0</span>,<span class="number">0.7</span>)</span><br><span class="line">    time.sleep(x)</span><br></pre></td></tr></table></figure>
<p>哈哈哈哈,第一个还用了点终端颜色打印效果</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86django%E4%B8%ADAuth%E6%A8%A1%E5%9D%97/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E9%87%8D%E6%96%B0%E6%95%B4%E7%90%86django%E4%B8%ADAuth%E6%A8%A1%E5%9D%97/" class="post-title-link" itemprop="url">重新整理django中Auth模块</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 23:00:24" itemprop="dateCreated datePublished" datetime="2020-03-07T23:00:24+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:57" itemprop="dateModified" datetime="2020-03-06T11:39:57+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="0907自我总结"><a href="#0907自我总结" class="headerlink" title="0907自我总结"></a>0907自我总结</h1><h1 id="重新整理django中Auth模块"><a href="#重新整理django中Auth模块" class="headerlink" title="重新整理django中Auth模块"></a>重新整理django中Auth模块</h1><p><code>from django.contrib import auth</code></p>
<h2 id="一-设置"><a href="#一-设置" class="headerlink" title="一.设置"></a>一.设置</h2><p>默认Auth表单<br><code>auth</code>默认是使用自带的<code>user</code>表单</p>
<h3 id="自定义Auth表单"><a href="#自定义Auth表单" class="headerlink" title="自定义Auth表单"></a>自定义Auth表单</h3><p>一定要在<code>settings.py</code>中告诉<code>Django</code>，我现在使用我新定义的<code>UserInfo</code>表来做用户认证。写法如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 引用Django自带的User表，继承使用时需要设置</span></span><br><span class="line">AUTH_USER_MODEL = <span class="string">"app名.UserInfo"</span></span><br></pre></td></tr></table></figure>
<p>在<code>modles.py</code>创建表单模型可以对<code>AbstractUser</code>进行继承因为我们可以从源码中看出来auth自带的user表示继承<code>AbstractUser</code>类,所有我们可以可以同样继承然后对于他的内容进行自定义</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> AbstractUser</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span><span class="params">(AbstractUser)</span>:</span></span><br><span class="line">    新增的内容</span><br><span class="line">    通过源码我们可以看出自带的几个内容</span><br></pre></td></tr></table></figure>
<p><code>AbstractUser</code>自带的字段<br><code>源码里的内容</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">username :账号</span><br><span class="line">first_name:姓</span><br><span class="line">last_name:名</span><br><span class="line">email:邮箱</span><br><span class="line">is_staff ： 用户是否拥有网站的管理权限.</span><br><span class="line">is_active： 是否允许用户登录, 设置为 <span class="literal">False</span>，可以在不删除用户的前提下禁止用户登录。</span><br><span class="line">date_joined:创建日期</span><br></pre></td></tr></table></figure>
<p>再看他的父级<code>AbstractBaseUser</code></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">password:密码</span><br><span class="line">last_login:最后一次登入时间</span><br><span class="line">is_active:是否允许用户登录, 设置为 False，可以在不删除用户的前提下禁止用户登录。</span><br></pre></td></tr></table></figure>
<p>再看他的另外的父级<code>PermissionsMixin</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">is_superuser:是否为超级账号也就管理员</span><br><span class="line">groups:分组</span><br><span class="line">user_permissions:用户权限</span><br></pre></td></tr></table></figure>
<p>我们可以再这基础上进行新增</p>
<h2 id="二-注册相关"><a href="#二-注册相关" class="headerlink" title="二.注册相关"></a>二.注册相关</h2><h3 id="创建普通用户"><a href="#创建普通用户" class="headerlink" title="创建普通用户"></a>创建普通用户</h3><p><code>create_user()</code><br>auth 提供的一个创建新用户的方法，需要提供必要参数（username、password）等。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line">user = User.objects.create_user（username=<span class="string">'用户名'</span>,password=<span class="string">'密码'</span>,email=<span class="string">'邮箱'</span>,...）</span><br></pre></td></tr></table></figure>
<h3 id="创建超级用户"><a href="#创建超级用户" class="headerlink" title="创建超级用户"></a>创建超级用户</h3><p><code>create_superuser()</code><br>auth 提供的一个创建新的超级用户的方法，需要提供必要参数（username、password）等。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> User</span><br><span class="line">user = User.objects.create_superuser（username=<span class="string">'用户名'</span>,password=<span class="string">'密码'</span>,email=<span class="string">'邮箱'</span>,...）</span><br></pre></td></tr></table></figure>
<h2 id="三-登入相关"><a href="#三-登入相关" class="headerlink" title="三.登入相关"></a>三.登入相关</h2><h3 id="验证登入"><a href="#验证登入" class="headerlink" title="验证登入"></a>验证登入</h3><p><code>authenticate()</code><br>提供了用户认证功能，即验证用户名以及密码是否正确，一般需要username 、password两个关键字参数。<br>如果认证成功（用户名和密码正确有效），便会返回一个 User 对象。<br>authenticate()会在该 User 对象上设置一个属性来标识后端已经认证了该用户，且该信息在后续的登录过程中是需要的。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">user = authenticate(username=<span class="string">'usernamer'</span>,password=<span class="string">'password'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="将登入的对象存放在request中"><a href="#将登入的对象存放在request中" class="headerlink" title="将登入的对象存放在request中"></a>将登入的对象存放在request中</h3><p><code>login(HttpRequest, user)</code><br>该函数接受一个HttpRequest对象，以及一个经过认证的User对象。<br>该函数实现一个用户登录的功能。它本质上会在后端为该用户生成相关session数据。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> authenticate, login</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">  username = request.POST[<span class="string">'username'</span>]</span><br><span class="line">  password = request.POST[<span class="string">'password'</span>]</span><br><span class="line">  user = authenticate(username=username, password=password)</span><br><span class="line">  <span class="keyword">if</span> user <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">    login(request, user)</span><br><span class="line">    <span class="comment"># Redirect to a success page.</span></span><br><span class="line">    ...</span><br><span class="line">  <span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># Return an 'invalid login' error message.</span></span><br><span class="line">    ...</span><br></pre></td></tr></table></figure>
<p>这样设置之后可以直接<code>request.user</code>点出其<code>账号相关信息</code><br><code>is_authenticated</code>为<code>True</code></p>
<h3 id="将登入的对象存放在request中去除"><a href="#将登入的对象存放在request中去除" class="headerlink" title="将登入的对象存放在request中去除"></a>将登入的对象存放在request中去除</h3><p><code>logout(request)</code><br>该函数接受一个HttpRequest对象，无返回值。<br>当调用该函数时，当前请求的session信息会全部清除。该用户即使没有登录，使用该函数也不会报错。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth <span class="keyword">import</span> logout</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">logout_view</span><span class="params">(request)</span>:</span></span><br><span class="line">  logout(request)</span><br><span class="line">  <span class="comment"># Redirect to a success page.</span></span><br></pre></td></tr></table></figure>
<p>这样设置之后可以直接<code>request.user</code>就为空<br><code>is_authenticated</code>为<code>False</code></p>
<h3 id="通过认证"><a href="#通过认证" class="headerlink" title="通过认证"></a>通过认证</h3><p><code>is_authenticated()</code><br>用来判断当前请求是否通过了认证。<br>用法:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">  <span class="keyword">if</span> <span class="keyword">not</span> request.user.is_authenticated():</span><br><span class="line">    <span class="keyword">return</span> redirect(<span class="string">'%s?next=%s'</span> % (settings.LOGIN_URL, request.path))</span><br></pre></td></tr></table></figure>
<p>页面中操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#123;% if request.user.is_authenticated %&#125;</span><br><span class="line">    如果里面有通过验证的user就为真没有就没否</span><br></pre></td></tr></table></figure>
<h2 id="四-登入装饰器"><a href="#四-登入装饰器" class="headerlink" title="四.登入装饰器"></a>四.登入装饰器</h2><p><code>login_requierd()</code><br>auth 给我们提供的一个装饰器工具，用来快捷的给某个视图添加登录校验。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.contrib.auth.decorators <span class="keyword">import</span> login_required</span><br><span class="line">      </span><br><span class="line"><span class="meta">@login_required</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">my_view</span><span class="params">(request)</span>:</span></span><br><span class="line">  ...</span><br></pre></td></tr></table></figure>
<p>若用户没有登录，则会跳转到django默认的 登录URL ‘/accounts/login/ ‘ 并传递当前访问url的绝对路径 (登陆成功后，会重定向到该路径)。<br>如果需要自定义登录的URL，则需要在settings.py文件中通过LOGIN_URL进行修改。<br>示例：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LOGIN_URL = <span class="string">'/login/'</span>  <span class="comment"># 这里配置成你项目登录页面的路由</span></span><br></pre></td></tr></table></figure>
<h2 id="五-密码相关"><a href="#五-密码相关" class="headerlink" title="五.密码相关"></a>五.密码相关</h2><h3 id="检验密码是否正确"><a href="#检验密码是否正确" class="headerlink" title="检验密码是否正确"></a>检验密码是否正确</h3><p><code>check_password(password)</code><br>auth 提供的一个检查密码是否正确的方法，需要提供当前请求用户的密码。<br>密码正确返回True，否则返回False。<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ok = user.check_password(<span class="string">'密码'</span>)</span><br></pre></td></tr></table></figure>
<h3 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h3><p><code>set_password(password)</code><br>auth 提供的一个修改密码的方法，接收 要设置的新密码 作为参数。<br>注意：设置完一定要调用用户对象的save方法！！！<br>用法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">user.set_password(password=<span class="string">''</span>)</span><br><span class="line">user.save()</span><br></pre></td></tr></table></figure>
<h2 id="六-注意"><a href="#六-注意" class="headerlink" title="六.注意"></a>六.注意</h2><p><code>上面的写的都是基于auth自带的user表达写的</code><br>导入<br><code>from django.contrib.auth.models import User</code><br>如果是自定义表单,请把<code>user换成你自定义的表单名称</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E5%91%A8%E6%9C%AB%E6%89%8B%E6%92%B8%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F(%E4%B8%80)/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E5%91%A8%E6%9C%AB%E6%89%8B%E6%92%B8%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F(%E4%B8%80)/" class="post-title-link" itemprop="url">周末手撸管理系统(一)</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 22:48:20" itemprop="dateCreated datePublished" datetime="2020-03-07T22:48:20+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:39:47" itemprop="dateModified" datetime="2020-03-06T11:39:47+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="周末手撸管理系统-一"><a href="#周末手撸管理系统-一" class="headerlink" title="周末手撸管理系统(一)"></a>周末手撸管理系统(一)</h1><p>已完成<br>大体模板</p>
<ul>
<li>用户登入注册</li>
</ul>
<p>明天加商品订单商品进去<br>完成效果图<br><code>注册</code><br><img src="https://images.cnblogs.com/cnblogs_com/pythonywy/1455951/o_register.png" /><br><code>登入</code><br><img src="https://images.cnblogs.com/cnblogs_com/pythonywy/1455951/o_login.png" /></p>
<h2 id="1-首先进行设置"><a href="#1-首先进行设置" class="headerlink" title="1.首先进行设置"></a>1.首先进行设置</h2><p><code>settings.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"""</span></span><br><span class="line"><span class="string">Django settings for drf_test project.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Generated by 'django-admin startproject' using Django 1.11.22.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For more information on this file, see</span></span><br><span class="line"><span class="string">https://docs.djangoproject.com/en/1.11/topics/settings/</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">For the full list of settings and their values, see</span></span><br><span class="line"><span class="string">https://docs.djangoproject.com/en/1.11/ref/settings/</span></span><br><span class="line"><span class="string">"""</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="comment"># Build paths inside the project like this: os.path.join(BASE_DIR, ...)</span></span><br><span class="line">BASE_DIR = os.path.dirname(os.path.dirname(os.path.abspath(__file__)))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Quick-start development settings - unsuitable for production</span></span><br><span class="line"><span class="comment"># See https://docs.djangoproject.com/en/1.11/howto/deployment/checklist/</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: keep the secret key used in production secret!</span></span><br><span class="line">SECRET_KEY = <span class="string">'ppa5l3jvxr4k^ow*4o+0_^7@&amp;amp;sa3x+!hb_$artwraa%60iq@g7'</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># SECURITY WARNING: don't run with debug turned on in production!</span></span><br><span class="line">DEBUG = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">ALLOWED_HOSTS = []</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Application definition</span></span><br><span class="line"></span><br><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'drf_api'</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">MIDDLEWARE = [</span><br><span class="line">    <span class="string">'django.middleware.security.SecurityMiddleware'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions.middleware.SessionMiddleware'</span>,</span><br><span class="line">    <span class="string">'django.middleware.common.CommonMiddleware'</span>,</span><br><span class="line">    <span class="comment"># 'django.middleware.csrf.CsrfViewMiddleware',</span></span><br><span class="line">    <span class="string">'django.contrib.auth.middleware.AuthenticationMiddleware'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages.middleware.MessageMiddleware'</span>,</span><br><span class="line">    <span class="string">'django.middleware.clickjacking.XFrameOptionsMiddleware'</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">ROOT_URLCONF = <span class="string">'drf_test.urls'</span></span><br><span class="line"></span><br><span class="line">TEMPLATES = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'BACKEND'</span>: <span class="string">'django.template.backends.django.DjangoTemplates'</span>,</span><br><span class="line">        <span class="string">'DIRS'</span>: [os.path.join(BASE_DIR, <span class="string">'templates'</span>)]</span><br><span class="line">        ,</span><br><span class="line">        <span class="string">'APP_DIRS'</span>: <span class="literal">True</span>,</span><br><span class="line">        <span class="string">'OPTIONS'</span>: &#123;</span><br><span class="line">            <span class="string">'context_processors'</span>: [</span><br><span class="line">                <span class="string">'django.template.context_processors.debug'</span>,</span><br><span class="line">                <span class="string">'django.template.context_processors.request'</span>,</span><br><span class="line">                <span class="string">'django.contrib.auth.context_processors.auth'</span>,</span><br><span class="line">                <span class="string">'django.contrib.messages.context_processors.messages'</span>,</span><br><span class="line">            ],</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line">WSGI_APPLICATION = <span class="string">'drf_test.wsgi.application'</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Database</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/1.11/ref/settings/#databases</span></span><br><span class="line"></span><br><span class="line">DATABASES = &#123;</span><br><span class="line">    <span class="string">'default'</span>: &#123;</span><br><span class="line">        <span class="string">'ENGINE'</span>: <span class="string">'django.db.backends.sqlite3'</span>,</span><br><span class="line">        <span class="string">'NAME'</span>: os.path.join(BASE_DIR, <span class="string">'db.sqlite3'</span>),</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Password validation</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/1.11/ref/settings/#auth-password-validators</span></span><br><span class="line"></span><br><span class="line">AUTH_PASSWORD_VALIDATORS = [</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'django.contrib.auth.password_validation.UserAttributeSimilarityValidator'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'django.contrib.auth.password_validation.MinimumLengthValidator'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'django.contrib.auth.password_validation.CommonPasswordValidator'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="string">'NAME'</span>: <span class="string">'django.contrib.auth.password_validation.NumericPasswordValidator'</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Internationalization</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/1.11/topics/i18n/</span></span><br><span class="line"></span><br><span class="line">LANGUAGE_CODE = <span class="string">'en-us'</span></span><br><span class="line"></span><br><span class="line">TIME_ZONE = <span class="string">'UTC'</span></span><br><span class="line"></span><br><span class="line">USE_I18N = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">USE_L10N = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line">USE_TZ = <span class="literal">True</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Static files (CSS, JavaScript, Images)</span></span><br><span class="line"><span class="comment"># https://docs.djangoproject.com/en/1.11/howto/static-files/</span></span><br><span class="line"></span><br><span class="line">STATIC_URL = <span class="string">'/static/'</span></span><br><span class="line">STATICFILES_DIRS=(os.path.join(BASE_DIR,<span class="string">'static'</span>),)</span><br><span class="line">AUTH_USER_MODEL = <span class="string">"drf_api.UserInfo"</span></span><br><span class="line">MEDIA_URL  = <span class="string">"/img/"</span></span><br><span class="line">MEDIA_ROOT = os.path.join(BASE_DIR, <span class="string">"img"</span>)</span><br></pre></td></tr></table></figure>
<h2 id="2-创建模型以及form组件"><a href="#2-创建模型以及form组件" class="headerlink" title="2.创建模型以及form组件"></a>2.创建模型以及form组件</h2><p><code>models.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.db <span class="keyword">import</span> models</span><br><span class="line"><span class="keyword">from</span> django.contrib.auth.models <span class="keyword">import</span> AbstractUser</span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UserInfo</span><span class="params">(AbstractUser)</span>:</span></span><br><span class="line">    avatar = models.FileField(upload_to=<span class="string">'avatar/'</span>, default=<span class="string">'avatar/default.png'</span>)</span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        verbose_name=<span class="string">'用户表'</span></span><br><span class="line">        verbose_name_plural = verbose_name</span><br></pre></td></tr></table></figure>
<p>userinfo_form.py</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django <span class="keyword">import</span> forms</span><br><span class="line"><span class="keyword">from</span> django.forms <span class="keyword">import</span> widgets</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.core.exceptions <span class="keyword">import</span> ValidationError</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> drf_api <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Register</span><span class="params">(forms.Form)</span>:</span></span><br><span class="line">    username=forms.CharField(max_length=<span class="number">18</span>,min_length=<span class="number">3</span>,label=<span class="string">"用户名"</span>,</span><br><span class="line">                         error_messages=&#123;<span class="string">'max_length'</span>:<span class="string">'太长了'</span>,</span><br><span class="line">                                         <span class="string">'min_length'</span>:<span class="string">'太短了'</span>,</span><br><span class="line">                                         <span class="string">'required'</span>:<span class="string">'不能为空'</span>&#125;,</span><br><span class="line">                            widget=widgets.TextInput(attrs=&#123;<span class="string">'class'</span>:<span class="string">'form-control'</span>&#125;),</span><br><span class="line">                         )</span><br><span class="line">    password=forms.CharField(max_length=<span class="number">18</span>,min_length=<span class="number">3</span>,label=<span class="string">"密码"</span>,</span><br><span class="line">                         error_messages=&#123;<span class="string">'max_length'</span>:<span class="string">'太长了'</span>,</span><br><span class="line">                                         <span class="string">'min_length'</span>:<span class="string">'太短了'</span>,</span><br><span class="line">                                         <span class="string">'required'</span>:<span class="string">'不能为空'</span>&#125;,</span><br><span class="line">                            widget=widgets.PasswordInput(attrs=&#123;<span class="string">'class'</span>:<span class="string">'form-control'</span>&#125;),</span><br><span class="line">                         )</span><br><span class="line">    re_pwd=forms.CharField(max_length=<span class="number">18</span>,min_length=<span class="number">3</span>,label=<span class="string">"确认密码"</span>,</span><br><span class="line">                         error_messages=&#123;<span class="string">'max_length'</span>:<span class="string">'太长了'</span>,</span><br><span class="line">                                         <span class="string">'min_length'</span>:<span class="string">'太短了'</span>,</span><br><span class="line">                                         <span class="string">'required'</span>:<span class="string">'不能为空'</span>&#125;,</span><br><span class="line">                            widget=widgets.PasswordInput(attrs=&#123;<span class="string">'class'</span>:<span class="string">'form-control'</span>&#125;),</span><br><span class="line">                         )</span><br><span class="line">    email=forms.EmailField(max_length=<span class="number">18</span>,min_length=<span class="number">3</span>,label=<span class="string">"邮箱"</span>,</span><br><span class="line">                         error_messages=&#123;<span class="string">'max_length'</span>:<span class="string">'太长了'</span>,</span><br><span class="line">                                         <span class="string">'min_length'</span>:<span class="string">'太短了'</span>,</span><br><span class="line">                                         <span class="string">'required'</span>:<span class="string">'不能为空'</span>&#125;,</span><br><span class="line">                            widget=widgets.EmailInput(attrs=&#123;<span class="string">'class'</span>:<span class="string">'form-control'</span>&#125;),</span><br><span class="line">                         )</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clean_username</span><span class="params">(self)</span>:</span></span><br><span class="line">        name=self.cleaned_data.get(<span class="string">'username'</span>)</span><br><span class="line">        user=models.UserInfo.objects.filter(username=name).first()</span><br><span class="line">        <span class="keyword">if</span> user:</span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">'用户已经存在'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> name</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">clean</span><span class="params">(self)</span>:</span></span><br><span class="line">        pwd=self.cleaned_data.get(<span class="string">'password'</span>)</span><br><span class="line">        r_pwd=self.cleaned_data.get(<span class="string">'re_pwd'</span>)</span><br><span class="line">        <span class="keyword">if</span> pwd==r_pwd:</span><br><span class="line">            <span class="keyword">return</span> self.cleaned_data</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">raise</span> ValidationError(<span class="string">'两次密码不一致'</span>)</span><br></pre></td></tr></table></figure>
<h2 id="3-页面"><a href="#3-页面" class="headerlink" title="3.页面"></a>3.页面</h2><p><code>母版</code><br><code>template.html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"zh"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"/static/bootstrap-3.3.7-dist/css/bootstrap.min.css"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/jquery-3.4.1.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">"/static/bootstrap-3.3.7-dist/js/bootstrap.min.js"</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>&#123;% block title_text %&#125;&#123;% endblock %&#125;<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="css">    <span class="selector-class">.header</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 0;</span><br><span class="line">        left: 0;</span><br><span class="line">        height: 100px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        background: red;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.header_left</span>&#123;</span></span><br><span class="line"></span><br><span class="line">        position: absolute;</span><br><span class="line">        line-height: 100px;</span><br><span class="line">        font-size: 50px;</span><br><span class="line"><span class="css">        <span class="selector-tag">width</span><span class="selector-pseudo">:20</span>% ;</span></span><br><span class="line">        text-align: center;</span><br><span class="line">        background: black;</span><br><span class="line">        color: white;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.header_right</span>&#123;</span></span><br><span class="line">        float: right;</span><br><span class="line">                line-height: 100px;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.body</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 100px;</span><br><span class="line">        left: 0;</span><br><span class="line">        bottom: 20px;</span><br><span class="line">        width: 100%;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.body_left</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 100px;</span><br><span class="line">        left: 0;</span><br><span class="line">        bottom: 20px;</span><br><span class="line">        width: 20%;</span><br><span class="line">        background: white;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="css">    <span class="selector-class">.body_right</span> &#123;</span></span><br><span class="line">        overflow: auto;</span><br><span class="line">        position: fixed;</span><br><span class="line">        top: 100px;</span><br><span class="line">        left: 20%;</span><br><span class="line">        bottom: 20px;</span><br><span class="line">        width: 80%;</span><br><span class="line"><span class="css">        <span class="selector-tag">background</span>: <span class="selector-id">#2aabd2</span>;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="css">    <span class="selector-class">.footer</span> &#123;</span></span><br><span class="line">        position: fixed;</span><br><span class="line">        left: 0;</span><br><span class="line">        bottom: 0;</span><br><span class="line">        height: 20px;</span><br><span class="line">        width: 100%;</span><br><span class="line">        background: black;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line">&#123;% block new_css %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header_left"</span>&gt;</span>管理系统<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"header_right"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:8000/login/"</span>&gt;</span>登入<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"http://127.0.0.1:8000/register/"</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body_left"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-pills nav-stacked nav-pills-stacked-example"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>库存管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">         <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>查看商品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>添加商品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>删除商品<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span> <span class="attr">class</span>=<span class="string">"nav nav-pills nav-stacked nav-pills-stacked-example"</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span> <span class="attr">class</span>=<span class="string">"active"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span>&gt;</span>订单管理<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">       <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>查看订单<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>添加订单<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>删除订单<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">li</span> <span class="attr">role</span>=<span class="string">"presentation"</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"#"</span>&gt;</span>订单号快速查询<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"body_right"</span>&gt;</span></span><br><span class="line">        &#123;% block data %&#125;</span><br><span class="line">        &#123;% endblock %&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"footer"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line">&#123;% block new_js %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
<p><code>登入</code><br><code>login.html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends 'template.html' %&#125;</span><br><span class="line">&#123;% block title_text %&#125;</span><br><span class="line">    登入</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block new_css %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block data %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid center-block"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 col-md-offset-3"</span>&gt;</span></span><br><span class="line">                &#123;% csrf_token %&#125;</span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>登陆<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">action</span>=<span class="string">""</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"id_name"</span>&gt;</span>用户名<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"name"</span> <span class="attr">id</span>=<span class="string">"id_name"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"pwd"</span>&gt;</span>密码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"password"</span> <span class="attr">name</span>=<span class="string">"pwd"</span> <span class="attr">id</span>=<span class="string">"pwd"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"id_code"</span>&gt;</span>验证码<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">name</span>=<span class="string">"code"</span> <span class="attr">id</span>=<span class="string">"id_code"</span> <span class="attr">class</span>=<span class="string">"form-control"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6"</span> <span class="attr">id</span>=<span class="string">"img"</span>&gt;</span></span><br><span class="line">                                <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/get_code/"</span> <span class="attr">height</span>=<span class="string">"40"</span> <span class="attr">width</span>=<span class="string">"240"</span> <span class="attr">class</span>=<span class="string">"img-code"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">class</span>=<span class="string">"btn-success"</span> <span class="attr">id</span>=<span class="string">"up_data"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: red"</span> <span class="attr">id</span>=<span class="string">"msg"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block new_js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'.img-code'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> img_code_src = $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>);</span></span><br><span class="line"><span class="actionscript">            img_code_src += <span class="string">'1'</span>;</span></span><br><span class="line"><span class="javascript">            <span class="built_in">console</span>.log(img_code_src);</span></span><br><span class="line"><span class="javascript">            $(<span class="keyword">this</span>).attr(<span class="string">'src'</span>, img_code_src)</span></span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">'#up_data'</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">                type: <span class="string">'post'</span>,</span></span><br><span class="line"><span class="actionscript">                url: <span class="string">'/login/'</span>,</span></span><br><span class="line">                data: &#123;</span><br><span class="line"><span class="javascript">                    <span class="string">'name'</span>: $(<span class="string">'#id_name'</span>).val(),</span></span><br><span class="line"><span class="javascript">                    <span class="string">'pwd'</span>: $(<span class="string">'#pwd'</span>).val(),</span></span><br><span class="line"><span class="javascript">                    <span class="string">'code'</span>: $(<span class="string">'#id_code'</span>).val(),</span></span><br><span class="line"><span class="actionscript">                    <span class="string">'csrfmiddlewaretoken'</span>: <span class="string">'&#123;&#123;csrf_token&#125;&#125;'</span></span></span><br><span class="line">                &#125;,</span><br><span class="line"><span class="actionscript">                success: <span class="function"><span class="keyword">function</span> <span class="params">(msg)</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                    <span class="built_in">console</span>.log(msg);</span></span><br><span class="line"><span class="javascript">                    $(<span class="string">'#msg'</span>).text(msg);</span></span><br><span class="line"><span class="actionscript">                    <span class="keyword">if</span> (msg == <span class="string">'登入成功'</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">console</span>.log(<span class="string">'sb'</span>);</span></span><br><span class="line"><span class="javascript">                        <span class="built_in">window</span>.location.replace(<span class="string">'http://www.baidu.com'</span>);</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
<p><code>登入</code><br><code>register.html</code></p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br></pre></td><td class="code"><pre><span class="line">&#123;% extends 'template.html' %&#125;</span><br><span class="line">&#123;% block title_text %&#125;</span><br><span class="line">    注册</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block new_css %&#125;</span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block data %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"container-fluid"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"row"</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"col-md-6 col-md-offset-3"</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                <span class="tag">&lt;<span class="name">h1</span>&gt;</span>注册<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">form</span> <span class="attr">id</span>=<span class="string">"my_form"</span>&gt;</span></span><br><span class="line">                    &#123;% for foo in form %&#125;</span><br><span class="line">                        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                            <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"&#123;&#123; foo.auto_id &#125;&#125;"</span>&gt;</span>&#123;&#123; foo.label &#125;&#125;<span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line">                            &#123;&#123; foo &#125;&#125; <span class="tag">&lt;<span class="name">span</span> <span class="attr">style</span>=<span class="string">"color: red"</span> <span class="attr">class</span>=<span class="string">"error pull-right"</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">                    &#123;% endfor %&#125;</span><br><span class="line">                    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"form-group"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;<span class="name">label</span> <span class="attr">for</span>=<span class="string">"id_file"</span>&gt;</span>头像</span><br><span class="line">                            <span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">"/img/avatar/default.png"</span> <span class="attr">width</span>=<span class="string">"80"</span> <span class="attr">height</span>=<span class="string">"80"</span> <span class="attr">style</span>=<span class="string">"margin-left: 20px"</span></span></span><br><span class="line"><span class="tag">                                 <span class="attr">id</span>=<span class="string">"id_img"</span>&gt;</span></span><br><span class="line">                        <span class="tag">&lt;/<span class="name">label</span>&gt;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                        <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"file"</span> <span class="attr">name</span>=<span class="string">"file"</span> <span class="attr">id</span>=<span class="string">"id_file"</span> <span class="attr">style</span>=<span class="string">"display: none"</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"button"</span> <span class="attr">class</span>=<span class="string">"btn btn-success"</span> <span class="attr">value</span>=<span class="string">"提交"</span> <span class="attr">id</span>=<span class="string">"id_submit"</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br><span class="line">&#123;% block new_js %&#125;</span><br><span class="line">    <span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript">        $(<span class="string">"#id_file"</span>).change(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> file = $(<span class="string">"#id_file"</span>)[<span class="number">0</span>].files[<span class="number">0</span>]</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> filereader = <span class="keyword">new</span> FileReader()</span></span><br><span class="line">            filereader.readAsDataURL(file)</span><br><span class="line"><span class="actionscript">            filereader.onload = <span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                $(<span class="string">"#id_img"</span>).attr(<span class="string">'src'</span>, filereader.result)</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;)</span><br><span class="line"><span class="javascript">        $(<span class="string">"#id_submit"</span>).click(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span></span><br><span class="line"><span class="actionscript">            <span class="keyword">var</span> formdata = <span class="keyword">new</span> FormData()</span></span><br><span class="line"><span class="javascript">            <span class="keyword">var</span> my_form_data = $(<span class="string">"#my_form"</span>).serializeArray()</span></span><br><span class="line"><span class="javascript">            $.each(my_form_data, <span class="function"><span class="keyword">function</span> (<span class="params">k, v</span>) </span>&#123;</span></span><br><span class="line">                &#123;#console.log(k)#&#125;</span><br><span class="line">                &#123;#console.log(v)#&#125;</span><br><span class="line">                formdata.append(v.name, v.value)</span><br><span class="line">            &#125;)</span><br><span class="line"><span class="javascript">            formdata.append(<span class="string">'avatar'</span>, $(<span class="string">"#id_file"</span>)[<span class="number">0</span>].files[<span class="number">0</span>])</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="javascript">            $.ajax(&#123;</span></span><br><span class="line"><span class="actionscript">                url: <span class="string">'/register/'</span>,</span></span><br><span class="line"><span class="actionscript">                type: <span class="string">'post'</span>,</span></span><br><span class="line"><span class="actionscript">                processData: <span class="literal">false</span>, </span></span><br><span class="line"><span class="actionscript">                contentType: <span class="literal">false</span>,</span></span><br><span class="line">                data: formdata,</span><br><span class="line"><span class="actionscript">                success: <span class="function"><span class="keyword">function</span> <span class="params">(data)</span> </span>&#123;</span></span><br><span class="line"><span class="actionscript">                    <span class="comment">//console.log(data)</span></span></span><br><span class="line">                    if (data.code == 100) &#123;</span><br><span class="line"><span class="actionscript">                        location.href = <span class="string">'/login/'</span></span></span><br><span class="line"><span class="actionscript">                    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (data.code == <span class="number">101</span>) &#123;</span></span><br><span class="line"><span class="javascript">                        $.each(data.msg, <span class="function"><span class="keyword">function</span> (<span class="params">k, v</span>) </span>&#123;</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(k)</span></span><br><span class="line"><span class="javascript">                            <span class="built_in">console</span>.log(v)</span></span><br><span class="line"><span class="javascript">                            $(<span class="string">"#id_"</span> + k).next().html(v[<span class="number">0</span>])</span></span><br><span class="line"><span class="actionscript">                            <span class="keyword">if</span> (k == <span class="string">'__all__'</span>) &#123;</span></span><br><span class="line"><span class="javascript">                                $(<span class="string">"#id_re_pwd"</span>).next().html(v[<span class="number">0</span>])</span></span><br><span class="line">                            &#125;</span><br><span class="line">                        &#125;)</span><br><span class="line">                    &#125;</span><br><span class="line"><span class="actionscript">                    <span class="comment">//定时器</span></span></span><br><span class="line"><span class="actionscript">                    setTimeout(<span class="function"><span class="keyword">function</span> <span class="params">()</span> </span>&#123;</span></span><br><span class="line"><span class="javascript">                        $(<span class="string">".error"</span>).html(<span class="string">""</span>)</span></span><br><span class="line">                    &#125;, 3000)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    <span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">&#123;% endblock %&#125;</span><br></pre></td></tr></table></figure>
<h2 id="4-路由"><a href="#4-路由" class="headerlink" title="4.路由"></a>4.路由</h2><p><code>urls.py</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.conf.urls <span class="keyword">import</span> url</span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> admin</span><br><span class="line"><span class="keyword">from</span> drf_api <span class="keyword">import</span> views</span><br><span class="line"><span class="keyword">from</span> django.views.static <span class="keyword">import</span> serve</span><br><span class="line"><span class="keyword">from</span> .settings <span class="keyword">import</span> MEDIA_ROOT</span><br><span class="line">urlpatterns = [</span><br><span class="line">    url(<span class="string">r'^admin/'</span>, admin.site.urls),</span><br><span class="line">    url(<span class="string">r'^register/'</span>, views.register),</span><br><span class="line">    url(<span class="string">r'^login/'</span>, views.login),</span><br><span class="line">    url(<span class="string">r'^get_code/'</span>, views.get_code),</span><br><span class="line">    url(<span class="string">r'^img/(?P&lt;path&gt;.*)'</span>, serve, &#123;<span class="string">'document_root'</span>: MEDIA_ROOT&#125;),</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h2 id="5-视图"><a href="#5-视图" class="headerlink" title="5.视图"></a>5.视图</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render,HttpResponse,redirect</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> JsonResponse</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> PIL <span class="keyword">import</span> Image,ImageDraw,ImageFont</span><br><span class="line"><span class="keyword">import</span> random</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> io <span class="keyword">import</span> BytesIO</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.contrib <span class="keyword">import</span> auth</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> drf_api.userinfo_form <span class="keyword">import</span> Register</span><br><span class="line"><span class="keyword">from</span> drf_api <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">register</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method==<span class="string">'GET'</span>:</span><br><span class="line">        form=Register()</span><br><span class="line">        <span class="keyword">return</span> render(request,<span class="string">'register.html'</span>,&#123;<span class="string">'form'</span>:form&#125;)</span><br><span class="line">    <span class="keyword">elif</span> request.is_ajax():</span><br><span class="line">        response=&#123;<span class="string">'code'</span>:<span class="number">100</span>,<span class="string">'msg'</span>:<span class="literal">None</span>&#125;</span><br><span class="line">        form = Register(request.POST)</span><br><span class="line">        <span class="keyword">if</span> form.is_valid():</span><br><span class="line">            <span class="comment">#校验通过的数据</span></span><br><span class="line">            clean_data=form.cleaned_data</span><br><span class="line">            <span class="comment">#把re_pwd剔除</span></span><br><span class="line">            clean_data.pop(<span class="string">'re_pwd'</span>)</span><br><span class="line">            <span class="comment">#取出头像</span></span><br><span class="line">            avatar=request.FILES.get(<span class="string">'avatar'</span>)</span><br><span class="line">            <span class="keyword">if</span> avatar:</span><br><span class="line">                clean_data[<span class="string">'avatar'</span>]=avatar</span><br><span class="line">            user=models.UserInfo.objects.create_user(**clean_data)</span><br><span class="line">            <span class="keyword">if</span> user:</span><br><span class="line">                response[<span class="string">'msg'</span>] = <span class="string">'创建成功'</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                response[<span class="string">'code'</span>] = <span class="number">103</span></span><br><span class="line">                response[<span class="string">'msg'</span>] = <span class="string">'创建失败'</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            response[<span class="string">'code'</span>]=<span class="number">101</span></span><br><span class="line">            <span class="comment">#把校验不通过的数据返回</span></span><br><span class="line">            response[<span class="string">'msg'</span>]=form.errors</span><br><span class="line">            print(type(form.errors))</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(response,safe=<span class="literal">False</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">login</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method==<span class="string">'GET'</span>:</span><br><span class="line">        <span class="keyword">return</span> render(request,<span class="string">'login.html'</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(request.POST)</span><br><span class="line">        user_name=request.POST.get(<span class="string">'name'</span>)</span><br><span class="line">        pwd=request.POST.get(<span class="string">'pwd'</span>)</span><br><span class="line">        code=request.POST.get(<span class="string">'code'</span>)</span><br><span class="line"></span><br><span class="line">        user=auth.authenticate(username=user_name,password=pwd)</span><br><span class="line">        print(user)</span><br><span class="line">        <span class="keyword">if</span> request.session.get(<span class="string">'code'</span>).upper() !=code.upper(): <span class="comment">#忽略大小写</span></span><br><span class="line">            <span class="keyword">return</span> HttpResponse(<span class="string">'验证码错误'</span>)</span><br><span class="line">        <span class="keyword">elif</span> <span class="keyword">not</span> user:</span><br><span class="line">            <span class="keyword">return</span> HttpResponse(<span class="string">'账号密码错误'</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            auth.login(request,user)</span><br><span class="line">            <span class="keyword">return</span> HttpResponse(<span class="string">'登入成功'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_code</span><span class="params">(request)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> request.method == <span class="string">'GET'</span>:</span><br><span class="line">        img = Image.new(<span class="string">'RGB'</span>, (<span class="number">350</span>, <span class="number">40</span>), (random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>)))</span><br><span class="line">        <span class="comment"># 写文字</span></span><br><span class="line">        <span class="comment"># 生成一个字体对象</span></span><br><span class="line">        font = ImageFont.truetype(<span class="string">'/static/Gabriola.ttf'</span>, <span class="number">34</span>)</span><br><span class="line">        <span class="comment"># 调用方法，返回一个画板对象</span></span><br><span class="line">        draw = ImageDraw.Draw(img)</span><br><span class="line"></span><br><span class="line">        new_text =<span class="string">''</span></span><br><span class="line">        <span class="comment"># 生成随机8位数字</span></span><br><span class="line">        <span class="keyword">for</span> x_index <span class="keyword">in</span> range(<span class="number">1</span>, <span class="number">8</span>):</span><br><span class="line">            num = chr(random.randint(<span class="number">48</span>, <span class="number">57</span>))</span><br><span class="line">            word = chr(random.randint(<span class="number">65</span>, <span class="number">90</span>))</span><br><span class="line">            word_1 = chr(random.randint(<span class="number">97</span>, <span class="number">122</span>))</span><br><span class="line">            text =random.choice((num, word, word_1))</span><br><span class="line">            draw.text((x_index * <span class="number">32</span>, <span class="number">0</span>),text, font=font)</span><br><span class="line">            new_text +=text</span><br><span class="line"></span><br><span class="line">        <span class="comment"># 加点线</span></span><br><span class="line">        width = <span class="number">320</span></span><br><span class="line">        height = <span class="number">35</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">5</span>):</span><br><span class="line">            x1 = random.randint(<span class="number">0</span>, width)</span><br><span class="line">            x2 = random.randint(<span class="number">0</span>, width)</span><br><span class="line">            y1 = random.randint(<span class="number">0</span>, height)</span><br><span class="line">            y2 = random.randint(<span class="number">0</span>, height)</span><br><span class="line">            <span class="comment"># 在图片上画线</span></span><br><span class="line">            draw.line((x1, y1, x2, y2), fill=(random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>)))</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">33</span>):</span><br><span class="line">            <span class="comment"># 画点</span></span><br><span class="line">            draw.point([random.randint(<span class="number">0</span>, width), random.randint(<span class="number">0</span>, height)], fill=(random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>)))</span><br><span class="line">            x = random.randint(<span class="number">0</span>, width)</span><br><span class="line">            y = random.randint(<span class="number">0</span>, height)</span><br><span class="line">            <span class="comment"># 画弧形</span></span><br><span class="line">            draw.arc((x, y, x + <span class="number">4</span>, y + <span class="number">4</span>), <span class="number">0</span>, <span class="number">90</span>, fill=(random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>), random.randint(<span class="number">0</span>, <span class="number">255</span>)))</span><br><span class="line">        print(new_text)</span><br><span class="line">        <span class="comment">#存在session中</span></span><br><span class="line">        request.session[<span class="string">'code'</span>]=new_text</span><br><span class="line">        <span class="comment">#存内存</span></span><br><span class="line">        f = BytesIO()</span><br><span class="line">        img.save(f, <span class="string">'png'</span>)</span><br><span class="line">        <span class="keyword">return</span> HttpResponse(f.getvalue())</span><br></pre></td></tr></table></figure>
<p><code>大家周末娱乐</code></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

        
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block home" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://sir0.net/%E8%87%AA%E5%AD%A6%E5%89%8D%E7%AB%AF%E7%AC%AC%E4%B8%89%E5%A4%A9/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="sir0.net">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="吴梦梦、刘玥和SL炮叔">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          
            <a href="/%E8%87%AA%E5%AD%A6%E5%89%8D%E7%AB%AF%E7%AC%AC%E4%B8%89%E5%A4%A9/" class="post-title-link" itemprop="url">自学前端第三天</a>
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2020-03-07 22:48:20" itemprop="dateCreated datePublished" datetime="2020-03-07T22:48:20+08:00">2020-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-03-06 11:38:29" itemprop="dateModified" datetime="2020-03-06T11:38:29+08:00">2020-03-06</time>
              </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="简历第三天"><a href="#简历第三天" class="headerlink" title="简历第三天"></a>简历第三天</h1><h2 id="简历的CSS文件"><a href="#简历的CSS文件" class="headerlink" title="简历的CSS文件"></a>简历的CSS文件</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">body</span>&#123;</span><br><span class="line">    <span class="attribute">font-family</span>: <span class="string">'Franklin Gothic Medium'</span>, <span class="string">'Arial Narrow'</span>, Arial, sans-serif;</span><br><span class="line">    <span class="attribute">font-size</span>: <span class="number">18px</span>;</span><br><span class="line">    <span class="attribute">font-weight</span>: bold;</span><br><span class="line">    <span class="attribute">color</span>:white;</span><br><span class="line">    <span class="attribute">text-shadow</span>: <span class="number">4px</span> <span class="number">4px</span> <span class="number">4px</span> <span class="number">#222222</span>;</span><br><span class="line">    <span class="attribute">text-align</span>:center;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">1366px</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">768px</span>;</span><br><span class="line">    <span class="attribute">background-image</span>:<span class="built_in">url</span>(<span class="string">"o_xxx.jpg"</span>);</span><br><span class="line">    <span class="attribute">background-size</span>: <span class="number">1366px</span> <span class="number">768px</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#header</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="built_in">rgb</span>(<span class="number">238</span>, <span class="number">223</span>, <span class="number">16</span>);</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">40%</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0px</span> <span class="number">10px</span> <span class="number">0px</span> <span class="number">10px</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#info</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.name</span>,<span class="selector-class">.age</span>,<span class="selector-class">.sex</span>,<span class="selector-class">.education_background</span>&#123;</span><br><span class="line">    <span class="attribute">background</span>: <span class="number">#b1a1a1</span>;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">150px</span>;</span><br><span class="line">    <span class="attribute">border-radius</span>: <span class="number">0</span> <span class="number">50%</span> <span class="number">50%</span> <span class="number">0</span> ;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.name</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>: <span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">5%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.sex</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">10%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.age</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">15%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.education_background</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">20%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#work_experience</span>&#123;</span><br><span class="line">    <span class="attribute">text-align</span>: left</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.headline</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">25%</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.working_time</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">20%</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.working_time</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">20%</span></span><br><span class="line">&#125; </span><br><span class="line"><span class="selector-class">.company_name</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">15%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.profession</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">10%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.saraly</span>&#123;</span><br><span class="line">    <span class="attribute">margin</span>:<span class="number">10px</span> <span class="number">0</span> <span class="number">10px</span> <span class="number">5%</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-id">#capacity</span> <span class="selector-tag">div</span>&#123;</span><br><span class="line">    <span class="attribute">padding</span>: <span class="number">8px</span> <span class="number">10%</span>; </span><br><span class="line">    <span class="attribute">float</span>: left;  </span><br><span class="line">    <span class="attribute">list-style</span>: none;   </span><br><span class="line">    <span class="attribute">color</span>:<span class="number">#fff</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="简历的html"><a href="#简历的html" class="headerlink" title="简历的html"></a>简历的html</h2><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>个人简历<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">"stylesheet"</span> <span class="attr">href</span>=<span class="string">"my_stype.css"</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"header"</span>&gt;</span>小小咸鱼的个人资料<span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    </span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"info"</span>&gt;</span>   </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"name"</span>&gt;</span>姓名：yang<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"sex"</span>&gt;</span>性别：男<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"age"</span>&gt;</span>年龄：25<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"education_background"</span>&gt;</span>学历：大专<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span>=<span class="string">"work_experience"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"headline"</span>&gt;</span>工作经历<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"working_time "</span>&gt;</span>工作时间：2017.5-2019.4<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"company_name"</span>&gt;</span>公司名称：浙江xx医疗科技有限公司<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"profession"</span>&gt;</span>岗位：QC工程师<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"saraly"</span>&gt;</span>工资：8k<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">section</span> <span class="attr">id</span> = <span class="string">'capacity'</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"color: black"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>拥有证书<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>内审员</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>化验员</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>无菌实验员</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>压力容器操作员</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>危化品管理员</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">div</span> <span class="attr">style</span>=<span class="string">"color: black"</span>&gt;</span><span class="tag">&lt;<span class="name">b</span>&gt;</span>计算机软件熟练度<span class="tag">&lt;/<span class="name">b</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>wps:精通</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>PS:精通</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>会声会影：精通</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>ai:熟练</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>pycharm:熟练</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>VS:熟练</span><br><span class="line">        <span class="tag">&lt;<span class="name">br</span>&gt;</span>ae:了解</span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">section</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure>
<h2 id="今天效果图"><a href="#今天效果图" class="headerlink" title="今天效果图"></a>今天效果图</h2><img src="https://images.cnblogs.com/cnblogs_com/pythonywy/1456775/o_%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20190519191446.png" />
## 今天学习到的内容
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#再导入背景为图片时候</span></span><br><span class="line">格式为background -image:url(<span class="string">"xx"</span>)这里链接要有双引号</span><br><span class="line"><span class="comment">#样式设定时候</span></span><br><span class="line">好几类设置相同格式化的时候</span><br><span class="line">比如name和age一起设置</span><br><span class="line">可以.age,.name&#123;样式内容&#125;</span><br><span class="line"><span class="comment">#关于padding，margin等有4个值要设置的时候</span></span><br><span class="line">只设置一个默认<span class="number">4</span>个值都是这个，设置两个前面一个代表上下，后面那个代表左右，设置<span class="number">3</span>个默认最后一个为<span class="number">0</span></span><br><span class="line"><span class="comment">#关于样式设置可以直接在标签里设置</span></span><br><span class="line">&lt;div div style=<span class="string">"color: black"</span>&gt;如上面的</span><br></pre></td></tr></table></figure>
`未完待续`
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

  </div>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/14/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/14/">14</a><span class="page-number current">15</span>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">sir0.net</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">148</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">sir0.net</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> v7.7.2
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>















  

  

</body>
</html>
